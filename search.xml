<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>上传图片到服务器</title>
      <link href="/2019/02/20/%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/02/20/%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      <content type="html"><![CDATA[<p>上传图片到服务器</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文主要讲解<code>如何上传本地图片到服务器以及开发遇到的问题</code><br>主要用到的技术：<code>koa-body iview的upload组件</code></p><h2 id="后台代码"><a href="#后台代码" class="headerlink" title="后台代码"></a>后台代码</h2><p>app.js中的配置:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> koaBody = <span class="built_in">require</span>(<span class="string">'koa-body'</span>);</span><br><span class="line">app.use(koaBody(&#123;<span class="attr">multipart</span>: <span class="literal">true</span>&#125;));</span><br></pre></td></tr></table></figure></p><p>upload.js中的配置：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">router.post(<span class="string">'/upload'</span>, <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 上传单个文件</span></span><br><span class="line">    <span class="keyword">const</span> readfile = ctx.request.files &amp;&amp; ctx.request.files.file; <span class="comment">// 获取上传文件</span></span><br><span class="line">    <span class="keyword">if</span>(!readfile)&#123;</span><br><span class="line">        ctx.response.body = &#123;</span><br><span class="line">            code: statusCode.PARAM_ERROR.code,</span><br><span class="line">            msg: statusCode.PARAM_ERROR.msg</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 创建可读流</span></span><br><span class="line">    <span class="keyword">const</span> reader = fs.createReadStream(readfile.path);</span><br><span class="line">    <span class="keyword">let</span> filePath = path.join(__dirname, <span class="string">'你的文件路径'</span>);</span><br><span class="line">    <span class="keyword">if</span> (!fs.existsSync(filePath)) &#123;</span><br><span class="line">        fs.mkdirSync(filePath); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> writeFile = filePath + <span class="string">`<span class="subst">$&#123;readfile.name&#125;</span>`</span>;</span><br><span class="line">    <span class="comment">// 创建可写流</span></span><br><span class="line">    <span class="keyword">const</span> upStream = fs.createWriteStream(writeFile);</span><br><span class="line">    <span class="comment">// 可读流通过管道写入可写流</span></span><br><span class="line">    reader.pipe(upStream);</span><br><span class="line">    ctx.response.body = &#123;</span><br><span class="line">        code: statusCode.SUCCESS.code,</span><br><span class="line">        msg: statusCode.SUCCESS.msg,</span><br><span class="line">        data: &#123;</span><br><span class="line">            imgUrl: <span class="string">`你的服务器图片地址绝对路径/<span class="subst">$&#123;readfile.name&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h2 id="前端代码"><a href="#前端代码" class="headerlink" title="前端代码"></a>前端代码</h2><h3 id="原生js"><a href="#原生js" class="headerlink" title="原生js"></a>原生js</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"img"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"file"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">multiple</span></span></span><br><span class="line"><span class="tag">        <span class="attr">accept</span>=<span class="string">"image/*"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"upload"</span>&gt;</span>点击上传<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">upload() &#123;</span><br><span class="line">    <span class="keyword">const</span> apiUrl = <span class="string">"/upload"</span>;</span><br><span class="line">    <span class="keyword">const</span> headersConfig = &#123;</span><br><span class="line">        <span class="string">"Content-Type"</span>: <span class="string">"multipart/form-data"</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> fileList = <span class="built_in">document</span>.querySelector(<span class="string">"#img"</span>).files;</span><br><span class="line">    <span class="keyword">if</span> (!fileList.length) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$Message.error(&#123;</span><br><span class="line">            content: <span class="string">"图片不能为空"</span>,</span><br><span class="line">            duration: <span class="number">2</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> file = fileList[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> formData = <span class="keyword">new</span> FormData();</span><br><span class="line">    formData.append(<span class="string">"file"</span>, file, file.name);</span><br><span class="line">    <span class="keyword">this</span>.$http</span><br><span class="line">        .post(apiUrl, formData, &#123;&#125;, headersConfig)</span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (</span><br><span class="line">                res &amp;&amp;</span><br><span class="line">                res.data &amp;&amp;</span><br><span class="line">                res.data.code &amp;&amp;</span><br><span class="line">                res.data.code == <span class="number">1</span></span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">const</span> data = res.data.data;</span><br><span class="line">                <span class="keyword">this</span>.imgUrl = data.imgUrl;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"error"</span>,res);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"err"</span>, err);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="iview的upload组件"><a href="#iview的upload组件" class="headerlink" title="iview的upload组件"></a>iview的upload组件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Upload</span></span></span><br><span class="line"><span class="tag">    <span class="attr">multiple</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"drag"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:max-size</span>=<span class="string">"2048"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:on-success</span>=<span class="string">"uploadSuccessCallback"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:on-exceeded-size</span>=<span class="string">"exceededSizeCallback"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">action</span>=<span class="string">"http://www.mfx55.top/api/upload"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"padding: 20px 0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Icon</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"ios-cloud-upload"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">size</span>=<span class="string">"52"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"color: #3399ff"</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">Icon</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>点击或拖动文件上传<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Upload</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">"imgUrl"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:src</span>=<span class="string">"imgUrl"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:alt</span>=<span class="string">"imgUrl"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ref</span>=<span class="string">"data"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"ivu-input"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">"width: 300px,display: block"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:value</span>=<span class="string">"imgUrl"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">focus</span>=<span class="string">"handleFocus"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=<span class="string">"upload"</span>&gt;</span><br><span class="line">        &lt;Upload</span><br><span class="line">            multiple</span><br><span class="line">            type=<span class="string">"drag"</span></span><br><span class="line">            :max-size=<span class="string">"2048"</span></span><br><span class="line">            :on-success=<span class="string">"uploadSuccessCallback"</span></span><br><span class="line">            :on-exceeded-size=<span class="string">"exceededSizeCallback"</span></span><br><span class="line">            action=<span class="string">"你的接口地址"</span></span><br><span class="line">        &gt;</span><br><span class="line">            &lt;div style=<span class="string">"padding: 20px 0"</span>&gt;</span><br><span class="line">                &lt;Icon</span><br><span class="line">                    type=<span class="string">"ios-cloud-upload"</span></span><br><span class="line">                    size=<span class="string">"52"</span></span><br><span class="line">                    style=<span class="string">"color: #3399ff"</span></span><br><span class="line">                &gt;<span class="xml"><span class="tag">&lt;/<span class="name">Icon</span>&gt;</span></span></span><br><span class="line">                &lt;p&gt;点击或拖动文件上传&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        &lt;<span class="regexp">/Upload&gt;</span></span><br><span class="line"><span class="regexp">        &lt;template v-if="imgUrl"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;img</span></span><br><span class="line"><span class="regexp">                :src="imgUrl"</span></span><br><span class="line"><span class="regexp">                :alt="imgUrl"</span></span><br><span class="line"><span class="regexp">            &gt;</span></span><br><span class="line"><span class="regexp">            &lt;input</span></span><br><span class="line"><span class="regexp">                ref="data"</span></span><br><span class="line"><span class="regexp">                class="ivu-input"</span></span><br><span class="line"><span class="regexp">                style="width: 300px,display: block"</span></span><br><span class="line"><span class="regexp">                type="text"</span></span><br><span class="line"><span class="regexp">                :value="imgUrl"</span></span><br><span class="line"><span class="regexp">                @focus="handleFocus"</span></span><br><span class="line"><span class="regexp">            &gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>template&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            formData: <span class="literal">null</span>,</span><br><span class="line">            imgUrl: <span class="string">""</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        uploadSuccessCallback(res) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res &amp;&amp; res.code &amp;&amp; res.code == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> data = res.data;</span><br><span class="line">                <span class="keyword">this</span>.imgUrl = data.imgUrl;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.$Message.error(&#123;</span><br><span class="line">                    content: res.data.msg,</span><br><span class="line">                    duration: <span class="number">2</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        exceededSizeCallback() &#123;</span><br><span class="line">            <span class="keyword">this</span>.$Message.error(&#123;</span><br><span class="line">                content: <span class="string">"文件过2MB"</span>,</span><br><span class="line">                duration: <span class="number">2</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        handleFocus() &#123;</span><br><span class="line">            <span class="keyword">this</span>.$refs.data.select();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>开发时，在本地已跑通，但线上总是不行，愁眉两天无果，结果测试发现原因，线上代码没有实时更新，本质原因是pm2崩了。为了避免此类问题，可以线上执行<code>pm2 list</code>来查看。</p>]]></content>
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 上传图片 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>线上部署代码</title>
      <link href="/2019/02/12/%E7%BA%BF%E4%B8%8A%E9%83%A8%E7%BD%B2%E4%BB%A3%E7%A0%81/"/>
      <url>/2019/02/12/%E7%BA%BF%E4%B8%8A%E9%83%A8%E7%BD%B2%E4%BB%A3%E7%A0%81/</url>
      <content type="html"><![CDATA[<p>将代码部署到线上</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本篇文章主要讲解<code>如何将已写好的项目部署到线上</code></p><p>涉及到的技术栈：<code>koa、vue、vue-cli、mongo、pm2、nginx</code></p><p>总体思路：将代码上传到gitHub上，每次修改完成上传后，服务器端只需要拉去代码，并执行压缩等操作，部署到线上。</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h3><p>这里的配置主要涉及到判断是否是线上从而来确定接口地址</p><p>代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL = process.env.NODE_ENV == <span class="string">'development'</span> ? <span class="string">'http://localhost:3000'</span> : <span class="string">'/api'</span>;</span><br></pre></td></tr></table></figure><p>线上接口带上<code>api</code>,从而区分地址打开的是页面还是接口</p><h3 id="后端配置"><a href="#后端配置" class="headerlink" title="后端配置"></a>后端配置</h3><p>这里的配置主要是改成连接线上数据库</p><p>原始：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> db = <span class="keyword">new</span> Monk(<span class="string">"localhost:27017/games"</span>); <span class="comment">//链接到库</span></span><br></pre></td></tr></table></figure><p>修改后</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> db = <span class="keyword">new</span> Monk(<span class="string">"你的域名/games"</span>); <span class="comment">//链接到库</span></span><br></pre></td></tr></table></figure><h3 id="nginx配置"><a href="#nginx配置" class="headerlink" title="nginx配置"></a><a name="nginx">nginx配置</a></h3><p>代码如下：</p><p>前端页面：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line">    <span class="attribute">root</span>   /home/website/koa-vue-mongodb/front/dist;</span><br><span class="line">    <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接口配置：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /api &#123;</span><br><span class="line">     <span class="attribute">rewrite</span> <span class="regexp"> ^/api/(.*)$</span> /<span class="variable">$1</span> <span class="literal">break</span>;</span><br><span class="line">     <span class="attribute">proxy_pass</span>   http://127.0.0.1:3000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>简单说明：将接口<code>/api/getData</code>实际指向<code>http://127.0.0.1:3000/getData</code></p><h2 id="整体流程"><a href="#整体流程" class="headerlink" title="整体流程"></a>整体流程</h2><ol><li>本地代码上传到GitHub上</li><li>服务器在home文件夹下新建website文件夹并打开</li><li>克隆项目到此文件夹</li><li>前后端分别执行<code>npm install</code>,安装必要文件</li><li>进入后端代码，执行<code>pm2 start app.js --watch -f</code>,来保证服务一直开启,首次不需要加<code>-f</code></li><li>进入前端代码，执行<code>node build/build.js</code>,打包代码</li><li>配置nginx,写入上述 <a href="#nginx">nginx配置</a> ,首页指向前端打包后的代码</li><li>打开你的网址，便能看到结果</li></ol>]]></content>
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 线上部署 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>在服务器上安装mongoDB</title>
      <link href="/2019/01/30/%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E5%AE%89%E8%A3%85mongoDB/"/>
      <url>/2019/01/30/%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E5%AE%89%E8%A3%85mongoDB/</url>
      <content type="html"><![CDATA[<p>在系统为centos6 64bit的服务器上搭建mongoDB</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum.repos.d/mongodb-org-3.4.repo</span><br></pre></td></tr></table></figure><p>然后写入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[mongodb-org-3.4]</span><br><span class="line">name=MongoDB Repository</span><br><span class="line">baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.4/x86_64/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://www.mongodb.org/static/pgp/server-3.4.asc</span><br></pre></td></tr></table></figure></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y mongodb-org</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/mongod.conf</span><br></pre></td></tr></table></figure><p>修改127.0.0.1为<code>0.0.0.0</code>，使得所有机器可连</p><h3 id="mongo相关操作"><a href="#mongo相关操作" class="headerlink" title="mongo相关操作"></a>mongo相关操作</h3><ul><li>启动：service mongod start</li><li>停止：service mongod stop</li><li>重启：service mongod restart</li></ul>]]></content>
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mongoDB </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>nginx搭建图片静态服务器</title>
      <link href="/2019/01/30/nginx%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/01/30/nginx%E6%90%AD%E5%BB%BA%E5%9B%BE%E7%89%87%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      <content type="html"><![CDATA[<p>在系统为centos6 64bit的服务器上搭建nginx</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h3 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h3><h4 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d</span><br><span class="line">vi nginx.repo</span><br></pre></td></tr></table></figure><h4 id="输入如下配置"><a href="#输入如下配置" class="headerlink" title="输入如下配置"></a>输入如下配置</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[nginx]</span><br><span class="line"><span class="attribute">name</span> = nginx repo</span><br><span class="line">baseurl = http://nginx.org/packages/centos/6/<span class="variable">$basearch</span></span><br><span class="line">gpgcheck = <span class="number">0</span></span><br><span class="line">enabled = <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令"></a>安装命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install nginx -y</span><br></pre></td></tr></table></figure><h4 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h4><p>nginx启动：<code>service nginx start</code></p><p>nginx停止：<code>service nginx stop</code></p><p>查看状态：<code>service nginx status</code></p><h3 id="配置端口"><a href="#配置端口" class="headerlink" title="配置端口"></a>配置端口</h3><h4 id="开启端口"><a href="#开启端口" class="headerlink" title="开启端口"></a>开启端口</h4><p><code>iptables -A INPUT -p tcp --dport 8080 -j ACCEPT</code></p><h4 id="保存并重启防火墙"><a href="#保存并重启防火墙" class="headerlink" title="保存并重启防火墙"></a>保存并重启防火墙</h4><p><code>/etc/rc.d/init.d/iptables save</code></p><p><code>/etc/init.d/iptables restart</code></p><h4 id="打开49152-65534之间的端口"><a href="#打开49152-65534之间的端口" class="headerlink" title="打开49152~65534之间的端口"></a>打开49152~65534之间的端口</h4><p><code>iptables -A INPUT -p tcp --dport 49152:65534 -j ACCEPT</code></p><h4 id="保存修改后重启防火墙"><a href="#保存修改后重启防火墙" class="headerlink" title="保存修改后重启防火墙"></a>保存修改后重启防火墙</h4><p><code>service iptables restart</code></p><h3 id="访问配置"><a href="#访问配置" class="headerlink" title="访问配置"></a>访问配置</h3><h4 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h4><p>创建用户：<code>user add hexo</code></p><p>设置密码：<code>passwd hexo</code><br>然后输入密码，并确认密码</p><p>结果：在home文件夹下就会生成mfx文件夹</p><h4 id="创建静态资源文件夹"><a href="#创建静态资源文件夹" class="headerlink" title="创建静态资源文件夹"></a>创建静态资源文件夹</h4><p>切换到hexo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir www</span><br><span class="line">mkdir images</span><br></pre></td></tr></table></figure></p><p>修改下文件夹权限</p><p>chmod 777 hexo -R</p><p>数字7不多做解释，表示r(4:读) w(2:写) x(1:执行)</p><h4 id="修改nginx配置文件"><a href="#修改nginx配置文件" class="headerlink" title="修改nginx配置文件"></a>修改nginx配置文件</h4><p><img src="http://www.mfx55.top/images/WX20190130-144248%402x.png" alt="图片说明"></p><p>写入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location /images/ &#123;</span><br><span class="line">    root /home/hexo/www;</span><br><span class="line">    autoindex on;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>说明：</p><p><code>/images/</code>：访问地址，配置后访问地址为 mfx55.top/images</p><p><code>root /home/hexo/www;</code>：具体访问的路径，如访问mfx55.top/images/index.html 则是访问服务器的 /home/hexo/www/images/index.html</p><p><code>autoindex on;</code>：让你可以浏览这个资源</p><p>然后执行 <code>nginx -s reload</code></p><p>在/home/www/images/下创建index.html，便可以访问了 <a href="www.mfx55.top/images/index.html">www.mfx55.top/images/index.html</a></p>]]></content>
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>保存图片</title>
      <link href="/2018/11/20/%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87/"/>
      <url>/2018/11/20/%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87/</url>
      <content type="html"><![CDATA[<p>小程序保存图片的示意代码</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="整体代码"><a href="#整体代码" class="headerlink" title="整体代码"></a>整体代码</h2><p>HTML:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">"myCanvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>JS:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">handleDraw() &#123;</span><br><span class="line">    <span class="keyword">const</span> ctx = wx.createCanvasContext(<span class="string">"myCanvas"</span>);</span><br><span class="line">    </span><br><span class="line">    ctx.save();</span><br><span class="line">    <span class="comment">// your code</span></span><br><span class="line">    ctx.restore();</span><br><span class="line">    </span><br><span class="line">    ctx.draw();</span><br><span class="line">&#125;</span><br><span class="line">draw() &#123;</span><br><span class="line">    <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">this</span>.handleDraw();</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        wx.canvasToTempFilePath(&#123;</span><br><span class="line">            canvasId: <span class="string">"myCanvas"</span>,</span><br><span class="line">            success(res)&#123;</span><br><span class="line">                <span class="keyword">const</span> tempFilePath = res.tempFilePath;</span><br><span class="line">                self.setData(&#123;</span><br><span class="line">                    camvasImg: tempFilePath</span><br><span class="line">                &#125;);</span><br><span class="line">                self.saveImg(tempFilePath);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,<span class="number">300</span>)</span><br><span class="line">&#125;</span><br><span class="line">saveImg(path) &#123;</span><br><span class="line">    <span class="keyword">const</span> self = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">if</span>(self.data.saving) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    self.setData(&#123;</span><br><span class="line">        saving: <span class="literal">true</span></span><br><span class="line">    &#125;);</span><br><span class="line">    wx.showLoading(&#123;</span><br><span class="line">        title: <span class="string">"保存中"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    wx.getSetting(&#123;</span><br><span class="line">        success(res) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!res.authSetting[<span class="string">"scope.writePhotosAlbum"</span>]) &#123;</span><br><span class="line">                wx.authorize(&#123;</span><br><span class="line">                    scope: <span class="string">"scope.writePhotosAlbum"</span>,</span><br><span class="line">                    success()&#123;</span><br><span class="line">                        self.saveImageToPhotoAlbum(path);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                self.saveImageToPhotoAlbum(path);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fail(err)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(err);</span><br><span class="line">            wx.hideLoading();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">saveImageToPhotoAlbum(path)&#123;</span><br><span class="line">    wx.saveImageToPhotoAlbum(&#123;</span><br><span class="line">        filePath: path,</span><br><span class="line">        success(res)&#123;</span><br><span class="line">            wx.hideLoading()</span><br><span class="line">            self.setData(&#123;</span><br><span class="line">                saving: <span class="literal">false</span></span><br><span class="line">            &#125;)</span><br><span class="line">            wx.showToast(&#123;</span><br><span class="line">                title: <span class="string">"保存成功"</span>,</span><br><span class="line">                icon:<span class="string">"success"</span>,</span><br><span class="line">                duration:<span class="number">2000</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>封装微信api</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">Promise</span> <span class="keyword">from</span> <span class="string">"../util/es6-promise"</span></span><br><span class="line"><span class="keyword">const</span> wxGetImageInfo = <span class="function">(<span class="params">url</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        wx.getImageInfo(&#123;</span><br><span class="line">            src: url,</span><br><span class="line">            success: resolve,</span><br><span class="line">            fail: reject</span><br><span class="line">        &#125;) </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    wxGetImageInfo: wxGetImageInfo</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="绘制文字"><a href="#绘制文字" class="headerlink" title="绘制文字"></a>绘制文字</h2><ul><li>关于文字y坐标位置，应该是测量的位置（sketch）加上字的大小，即 <code>ctx.fillText(&quot;测试文字&quot;,x轴位置,测量的y轴的位置加上字的大小)</code></li><li>居中问题，首先说下canvas的居中原理，设置<code>ctx.setTextAlign(&#39;center&#39;)</code>后，绘制文字从文字中间开始，向两边散开。所以绘制文字的X轴，需要根据绘制区域的宽度来定，如：画布宽度为360，绘制的时候应该写<code>ctx.fillText(&quot;测试文字&quot;,180,y轴位置)</code></li><li>文字裁剪<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根据文字个数裁剪</span></span><br><span class="line"><span class="keyword">const</span> txt = <span class="string">"也许你不会懂，自从你说爱我以后，我的天空，星星都亮了。"</span></span><br><span class="line"><span class="keyword">const</span> txtLen = txt.length;</span><br><span class="line"><span class="keyword">const</span> limitLen =  <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span>(txtLen &gt;= limitLen)&#123;</span><br><span class="line">    txt = txt.substring(<span class="number">0</span>,limitLen)+<span class="string">"..."</span></span><br><span class="line">&#125;</span><br><span class="line">ctx.save();</span><br><span class="line">ctx.fillText(txt,<span class="number">180</span>,<span class="number">0</span>);</span><br><span class="line">ctx.restore();</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据文字宽度裁剪</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">"你就像一团雾，而我在其中迷了路。"</span>;</span><br><span class="line"><span class="keyword">const</span> lineWidth = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> textAreaWidth = <span class="number">180</span>; <span class="comment">//文字区域的宽度</span></span><br><span class="line"><span class="keyword">const</span> initHeight = <span class="number">82</span>; <span class="comment">//绘制文字距离canvas顶部初始的高度</span></span><br><span class="line"><span class="keyword">const</span> lastSubStrIndex = <span class="number">0</span>; <span class="comment">//每次开始截取的字符串的索引</span></span><br><span class="line"><span class="keyword">const</span> fontSize = <span class="number">26</span>;</span><br><span class="line">ctx.save();</span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.setFontSize(fontSize);</span><br><span class="line">ctx.setFillStyle(<span class="string">"#222"</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>,len = str.length;i&lt;len;i++)&#123;</span><br><span class="line">    lineWidth += ctx.measureText(str[i]).width;</span><br><span class="line">    <span class="keyword">if</span>(lineWidth &gt; textAreaWidth)&#123;</span><br><span class="line">        ctx.fillText(str.substring(lastSubStrIndex,i),<span class="number">270</span>,initHeight);</span><br><span class="line">        initHeight += fontSize;</span><br><span class="line">        lineWidth = <span class="number">0</span>;</span><br><span class="line">        lastSubStrIndex = i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(i == str.length - <span class="number">1</span>)&#123;</span><br><span class="line">        ctx.fillText(str.substring(lastSubStrIndex,i+<span class="number">1</span>),<span class="number">270</span>,initHeight+<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ctx.fill();</span><br><span class="line">ctx.restore();</span><br></pre></td></tr></table></figure><h2 id="绘制图片"><a href="#绘制图片" class="headerlink" title="绘制图片"></a>绘制图片</h2><p>写在前面：如果绘制接口传过来的图片，需要调用微信提供的API<code>（getImageInfo）</code>转换成本地缓存的图片，才能绘制。</p><ul><li><p>绘制圆形图片</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> centerPoint = <span class="number">160</span>;</span><br><span class="line"><span class="comment">// 图片距离顶部的高度</span></span><br><span class="line"><span class="keyword">const</span> topHeight = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> r = <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line">ctx.save();</span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.arc(centerPoint, topHeight + r, r, <span class="number">0</span>, <span class="number">2</span>*<span class="built_in">Math</span>.PI);</span><br><span class="line">ctx.clip();</span><br><span class="line">ctx.drawImage(imgPath, centerPoint - r, topHeight, <span class="number">2</span>*r, <span class="number">2</span>*r);</span><br><span class="line">ctx restore();</span><br></pre></td></tr></table></figure></li><li><p>绘制多张接口图片</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> aImg = wxGetImageInfo(data.a);</span><br><span class="line"><span class="keyword">const</span> bImg = wxGetImageInfo(data.b);</span><br><span class="line"><span class="keyword">const</span> cImg = wxGetImageInfo(data.c);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([aImg,bImg,cImg]).then(<span class="function">(<span class="params">[a,b,c]</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 下面仅为示意代码</span></span><br><span class="line">    ctx.drawImage(a.path, centerPoint - r, topHeight, <span class="number">2</span>*r, <span class="number">2</span>*r);</span><br><span class="line">    ctx.drawImage(b.path, centerPoint - r, topHeight, <span class="number">2</span>*r, <span class="number">2</span>*r);</span><br><span class="line">    ctx.drawImage(c.path, centerPoint - r, topHeight, <span class="number">2</span>*r, <span class="number">2</span>*r);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ctx.draw();</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 小程序 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小程序 </tag>
            
            <tag> 保存图片 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>镜头知识</title>
      <link href="/2018/11/18/%E9%95%9C%E5%A4%B4%E7%9F%A5%E8%AF%86/"/>
      <url>/2018/11/18/%E9%95%9C%E5%A4%B4%E7%9F%A5%E8%AF%86/</url>
      <content type="html"><![CDATA[<hr><p>生命诚可贵，代码价更高，若为摄影故，两者皆可抛。</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h1 id="镜头"><a href="#镜头" class="headerlink" title="镜头"></a>镜头</h1><h2 id="焦距"><a href="#焦距" class="headerlink" title="焦距"></a>焦距</h2><ul><li>焦距越长，看的距离越远，范围越小</li><li>焦距越短，看的距离越近，范围越大，也叫<code>广角镜头</code></li></ul>]]></content>
      
      <categories>
          
          <category> 摄影 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摄影 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>相机模式</title>
      <link href="/2018/11/18/%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%BC%8F/"/>
      <url>/2018/11/18/%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%BC%8F/</url>
      <content type="html"><![CDATA[<hr><p>生命诚可贵，代码价更高，若为摄影故，两者皆可抛。</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h1 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h1><h2 id="全自动模式（Auto）"><a href="#全自动模式（Auto）" class="headerlink" title="全自动模式（Auto）"></a>全自动模式（Auto）</h2><p>相机控制项：</p><ul><li>快门速度</li><li>光圈</li><li>ISO</li><li>白平衡</li><li>对焦模式</li><li>曝光补偿</li><li>焦点</li><li>测光补偿</li><li>闪光曝光补偿过弹出式闪光灯</li></ul><p>你可控项：</p><ul><li>选择RAW或JPEG</li><li>连拍还是单拍</li></ul><p>备注：</p><ul><li>全自动模式不允许你按照你自己的意愿去更改测光模式，所以会导致某些区域过亮或过暗</li></ul><h2 id="程序模式（P）"><a href="#程序模式（P）" class="headerlink" title="程序模式（P）"></a>程序模式（P）</h2><p>相机控制项：</p><ul><li>快门速度</li><li>光圈</li></ul><p>你可控项：</p><ul><li>ISO</li><li>白平衡</li><li>对焦模式</li><li>曝光补偿</li><li>焦点</li><li>测光模式</li><li>闪光曝光补偿或弹出式闪光灯</li><li>选择RAW还是JPRG</li><li>连拍还是单拍</li></ul><p>备注：</p><ul><li>光照不是很好时，容易出错</li></ul><h2 id="光圈优先模式-（A-AV）"><a href="#光圈优先模式-（A-AV）" class="headerlink" title="光圈优先模式 （A/AV）"></a>光圈优先模式 （A/AV）</h2><p>相机控制项：</p><p>-快门速度</p><p>你可控项：</p><ul><li>光圈</li><li>ISO</li><li>白平衡</li><li>对焦模式</li><li>曝光补偿</li><li>焦点</li><li>测光模式</li><li>闪光曝光或弹出式闪光灯</li><li>选择RAW或者JPEG</li><li>连拍或单拍</li></ul><p>备注：</p><ul><li>这是种常用模式</li><li>他可以让你更专注于景深上，从而创造出更好的虚化</li><li>光线比较暗的情况下，可以在不产生过多的噪点的前提下调高ISO值</li></ul><h2 id="快门优先模式（S-TV）"><a href="#快门优先模式（S-TV）" class="headerlink" title="快门优先模式（S/TV）"></a>快门优先模式（S/TV）</h2><p>相机控制项：</p><ul><li>光圈</li></ul><p>你可控项：</p><ul><li>快门速度</li><li>ISO</li><li>白平衡</li><li>对焦模式</li><li>曝光补偿</li><li>焦点</li><li>测光模式</li><li>闪光曝光补偿或弹出式闪光灯</li><li>选择RAW或JPEG</li><li>连拍或单拍</li></ul><p>备注：</p><ul><li>适合拍摄快速移动的物体或者长时间曝光的</li></ul><h1 id="手动模式（M）"><a href="#手动模式（M）" class="headerlink" title="手动模式（M）"></a>手动模式（M）</h1><p><code>你可以控制所有东西！你可以控制所有东西！！你可以控制多有东西！！！</code></p><p>备注：</p><ul><li>在使用闪光灯时候会用到</li></ul>]]></content>
      
      <categories>
          
          <category> 摄影 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摄影 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>相机三要素</title>
      <link href="/2018/11/18/%E7%9B%B8%E6%9C%BA%E4%B8%89%E8%A6%81%E7%B4%A0/"/>
      <url>/2018/11/18/%E7%9B%B8%E6%9C%BA%E4%B8%89%E8%A6%81%E7%B4%A0/</url>
      <content type="html"><![CDATA[<p>生命诚可贵，代码价更高，若为摄影故，两者皆可抛。</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h1 id="相机三要素"><a href="#相机三要素" class="headerlink" title="相机三要素"></a>相机三要素</h1><h2 id="快门"><a href="#快门" class="headerlink" title="快门"></a>快门</h2><ul><li>快门打开的时间长短，也就是 <code>曝光时长</code></li><li>正常：1/125s</li><li>快门时间短的话会导致图片变暗，时间太长也会导致图片太白</li></ul><h2 id="光圈"><a href="#光圈" class="headerlink" title="光圈"></a>光圈</h2><ul><li>控制透光量</li><li>光圈越小，远处和近处的景物都会很清晰，叫做<code>景深广</code>。适用于拍摄风景等大场面</li><li>光圈越大，对焦位置清晰，其他远处和近处的景物都会很清晰，叫做<code>景深浅</code>。适用于突出某个景物，适合拍人像</li></ul><h2 id="感光度（ISO）"><a href="#感光度（ISO）" class="headerlink" title="感光度（ISO）"></a>感光度（ISO）</h2><ul><li>感光材料对光线的敏感程度</li><li>数值越大，对光线越敏感</li><li>很大的时候会产生噪点</li></ul><p>基础对话<br>A:我想抓拍一瞬间的动作<br>B:把快门调到最快<br>A:可是这样透光量不够了，照片太暗<br>B:那么把光圈调大点<br>A:可是我想整个画面清楚，不能用大光圈<br>B:那就把ISO调大点<br>A:但是这样又会出现噪点了<br>B:那就去户外阳光明媚的地方拍照<br>A:可我只能在光线不好的地方拍<br>B:无语..</p>]]></content>
      
      <categories>
          
          <category> 摄影 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摄影 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>vue基础</title>
      <link href="/2018/04/20/vue%E5%9F%BA%E7%A1%80/"/>
      <url>/2018/04/20/vue%E5%9F%BA%E7%A1%80/</url>
      <content type="html"><![CDATA[<p>练习vue的demo</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p><img src="https://user-gold-cdn.xitu.io/2018/3/22/1624d161ef404156?imageslim" alt="image"></p><p>注: 本文中采用的是es5写法</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li><p>方式一：CDN引入，<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script></p></li><li><p>方式二：NPM安装，$ npm install vue</p></li></ul><h2 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h2><p><a href="http://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html" target="_blank" rel="noopener">传送门</a></p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015020110.png" alt="image"></p><ul><li>视图（View）：用户界面。</li><li>控制器（Controller）：业务逻辑</li><li>模型（Model）：数据保存</li></ul><h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="image"></p><ul><li>beforeCreate:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">el     : undefined</span><br><span class="line">data   : undefined</span><br><span class="line">message: undefined</span><br></pre></td></tr></table></figure><ul><li>created:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">el     : undefined</span><br><span class="line">data   : [object Object]</span><br><span class="line">message: hi</span><br></pre></td></tr></table></figure><ul><li>beforeMount:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">el     : [object HTMLDivElement]</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;&lt;/div&gt;</span><br><span class="line">data   : [object Object]</span><br><span class="line">message: hi</span><br></pre></td></tr></table></figure><ul><li>mounted:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">el     : [object HTMLDivElement]</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;p&gt;hi&lt;/p&gt;&lt;/div&gt;</span><br><span class="line">data   : [object Object]</span><br><span class="line">message: hi</span><br></pre></td></tr></table></figure><h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// 选项</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>文本</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>文本: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"html"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>绑定</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">"elId"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--简易写法--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:id</span>=<span class="string">"elId"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>js处理</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; Math.abs(-7) &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>显示隐藏</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--if 方式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"see"</span>&gt;</span>你能看到俺不<span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--show 方式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"see"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>template 标签不能使用 v-show</p></blockquote><ul><li>点击</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">"eventHandle"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--简易方式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">"eventHandle"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="计算属性和侦听器"><a href="#计算属性和侦听器" class="headerlink" title="计算属性和侦听器"></a>计算属性和侦听器</h2><ul><li>计算属性 computed</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        msg: <span class="string">'😁😑'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">        addText: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.msg+<span class="string">'啊哈哈'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        changeVal()&#123;</span><br><span class="line">            <span class="keyword">this</span>.msg = <span class="keyword">this</span>.msg+<span class="string">'啊呵呵'</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;addText&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"changeVal"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>官方解释：计算属性是基于它们的依赖进行缓存的</p></blockquote><p>这句话也就随之挖了个大坑，看下面代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        list: [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">        listVal: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.list[<span class="number">1</span>]+<span class="string">'字母'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        notChangeVal: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.list[<span class="number">1</span>] = <span class="string">'bb'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;list&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;listVal&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"notChangeVal"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>点击按钮，会发现listVal的值不会随着点击而改变。（马萨嘎😓）</p><p>修改代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">notChangeVal: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$set(<span class="keyword">this</span>.list, <span class="number">1</span>, <span class="string">'bb'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再次点击按钮，会发现listVal的值会随着点击而改变。 ）</p><ul><li>侦听器 watch</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"input-box"</span> <span class="attr">v-model</span>=<span class="string">"val"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>添加后缀：&#123;&#123;result&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        val: <span class="string">''</span>, </span><br><span class="line">        result: <span class="string">''</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        val: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.result = <span class="keyword">this</span>.val + <span class="string">'@qimai.cn'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>区别</code></p><p>主要体现在使用场合上的不同</p><blockquote><p>计算属性：适合处理一些简单的计算。如切割字符串，整理数组，数字加减乘除等。</p></blockquote><blockquote><p>侦听器：适合进行一些相关的复杂操作。如用一个变量去获取后台数据，侦听这个变量的变化，去进行一些相关方法计算。</p></blockquote><h2 id="Class-与-Style-绑定"><a href="#Class-与-Style-绑定" class="headerlink" title="Class 与 Style 绑定"></a>Class 与 Style 绑定</h2><ul><li>对象语法</li></ul><p>方式一：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"&#123;'active': isActive,'error': isError&#125;"</span>&gt;</span>测试文字<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"clickHandle()"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.error</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        isActive: <span class="literal">true</span>,</span><br><span class="line">        isError: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        clickHandle()&#123;</span><br><span class="line">            <span class="keyword">this</span>.isError = !<span class="keyword">this</span>.isError;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>方式二：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"styleObj"</span>&gt;</span>测试文字<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.error</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        styleObj:&#123;</span><br><span class="line">            <span class="string">'active'</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">'error'</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>数组语法</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[activeClass,errorClass]"</span>&gt;</span>测试文字<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.error</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        activeClass: <span class="string">'active'</span>,</span><br><span class="line">        errorClass: <span class="string">'error'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>两者结合</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">"[&#123;active: isActive&#125;,errorClass]"</span>&gt;</span>测试文字<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.error</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        isActive: <span class="literal">true</span>,</span><br><span class="line">        errorClass: <span class="string">'error'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>区别</code></p><blockquote><p>对象语法：值为布尔型，表示那个类有没有</p></blockquote><blockquote><p>数组语法：值为字符型，表示那个类是什么</p></blockquote><h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><ul><li>v-if</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"show"</span>&gt;</span>啦啦啦<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        show: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>v-show</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"show"</span>&gt;</span>啦啦啦<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"!show"</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        show: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>区别</code></p><blockquote><p>v-if: 是一种真正意义上的显示隐藏，有就渲染，没有就销毁。适合处理一次渲染的情况</p></blockquote><blockquote><p>v-show：原理是通过设置display来控制显示隐藏，无论有没有，元素都会渲染。适合频繁切换的场合</p></blockquote><h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2><ul><li>数组列表</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item,index) in list"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        list: [<span class="string">'元素1'</span>,<span class="string">'元素2'</span>,<span class="string">'元素3'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>对象列表</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(val,key,index) in obj"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span>&#123;&#123;key&#125;&#125;: &#123;&#123;val&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        obj: &#123;</span><br><span class="line">            name: <span class="string">'张三'</span>,</span><br><span class="line">            age: <span class="number">24</span>,</span><br><span class="line">            sex: <span class="string">'男'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><ul><li>全局组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span>&gt;</span><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'component-demo'</span>,&#123;</span><br><span class="line">    template: <span class="string">'&lt;p&gt;qimai&lt;/p&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>局部组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span>&gt;</span><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentDemo = &#123;</span><br><span class="line">    template: <span class="string">'&lt;p&gt;qimai&lt;/p&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="string">'component-demo'</span>: componentDemo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>带有变量的组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span>&gt;</span><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentDemo = &#123;</span><br><span class="line">    template: <span class="string">'&lt;p&gt;&#123;&#123;name&#125;&#125;&lt;/p&gt;'</span>,</span><br><span class="line">    data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            name: <span class="string">'qimai'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="string">'component-demo'</span>: componentDemo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>能传递变量的组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span> <span class="attr">:message</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentDemo = &#123;</span><br><span class="line">    props: [<span class="string">'message'</span>],</span><br><span class="line">    template: <span class="string">'&lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            msg: <span class="string">'qimai'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="string">'component-demo'</span>: componentDemo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>能触发事件的组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span> <span class="attr">:count</span>=<span class="string">"countNum"</span> @<span class="attr">btn-click</span>=<span class="string">"toAdd"</span>&gt;</span><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentDemo = &#123;</span><br><span class="line">    props: [<span class="string">'count'</span>],</span><br><span class="line">    template: <span class="string">'&lt;button @click="clickHandle()"&gt;&#123;&#123;count&#125;&#125;&lt;/button&gt;'</span>,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        clickHandle: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.$emit(<span class="string">'btn-click'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            countNum: <span class="number">0</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        toAdd: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            ++<span class="keyword">this</span>.countNum;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="string">'component-demo'</span>: componentDemo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>带有插槽的组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>插槽内容1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>插槽内容2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentDemo = &#123;</span><br><span class="line">    template: <span class="string">'&lt;div&gt;内容&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="string">'component-demo'</span>: componentDemo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>带有具名插槽的组件</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component-demo</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"header"</span>&gt;</span>我是头部<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span>我是底部<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">component-demo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentDemo = &#123;</span><br><span class="line">    template: <span class="string">'&lt;div class="d"&gt;'</span>+</span><br><span class="line">                    <span class="string">'&lt;slot name="header"&gt;&lt;/slot&gt;'</span>+</span><br><span class="line">                    <span class="string">'&lt;p&gt;别看我，我是内容&lt;/p&gt;'</span>+</span><br><span class="line">                    <span class="string">'&lt;slot name="footer"&gt;&lt;/slot&gt;'</span>+</span><br><span class="line">              <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">        <span class="string">'component-demo'</span>: componentDemo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>组件三要素：</p></blockquote><ul><li><code>Prop</code> 允许外部环境传递数据给组件；</li><li><code>事件</code> 允许从组件内触发外部环境的副作用；</li><li><code>插槽</code> 允许外部环境将额外的内容组合在组件中。</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>reduce</title>
      <link href="/2018/03/29/reduce%E6%96%B9%E6%B3%95/"/>
      <url>/2018/03/29/reduce%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>API之reduce</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce_clone#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7" target="_blank" rel="noopener">Mozilla</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>学习API，起码得了解3点</p><ul><li>兼容性</li><li>用法</li><li>使用场合</li></ul><p>下面对这3点简要说明</p><h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><h3 id="PC"><a href="#PC" class="headerlink" title="PC:"></a>PC:</h3><table><thead><tr><th style="text-align:center">Chrome</th><th style="text-align:center">Firefox (Gecko)</th><th style="text-align:center">Internet Explorer</th><th style="text-align:center">Opera</th><th style="text-align:center">Safari</th></tr></thead><tbody><tr><td style="text-align:center">(Yes)</td><td style="text-align:center">3.0 (1.9)</td><td style="text-align:center">9</td><td style="text-align:center">10.5</td><td style="text-align:center">4.0</td></tr></tbody></table><h3 id="Mobile"><a href="#Mobile" class="headerlink" title="Mobile:"></a>Mobile:</h3><table><thead><tr><th style="text-align:center">Android</th><th style="text-align:center">Chrome for Android</th><th style="text-align:center">Firefox Mobile (Gecko)</th><th style="text-align:center">Opera Mobile</th><th style="text-align:center">Safari Mobile</th></tr></thead><tbody><tr><td style="text-align:center">(Yes)</td><td style="text-align:center">(Yes)</td><td style="text-align:center">(Yes)</td><td style="text-align:center">(Yes)</td><td style="text-align:center">(Yes) </td></tr></tbody></table><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><blockquote><p>语法：arr.reduce([callback, initialValue])</p></blockquote><p>参数</p><ul><li>callback <ul><li>previousValue 上一次调用函数的返回值，或者是提供的初始值（initialValue）</li><li>currentValue 当前被处理的元素</li><li>currentIndex 当前被处理元素在数组中的索引, 即currentValue的索引.如果有initialValue初始值, 从0开始.如果没有从1开始.</li><li>array 源数组</li></ul></li><li>initialValue 可选参数, 作为第一次调用 callback 的第一个参数。</li></ul><h2 id="使用场合"><a href="#使用场合" class="headerlink" title="使用场合"></a>使用场合</h2><blockquote><p>数组累加</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.reduce(add,<span class="number">0</span>) <span class="comment">//10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">pre,cur</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre + cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>计算数组重复项</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'a'</span>,<span class="string">'v'</span>,<span class="string">'c'</span>,<span class="string">'e'</span>,<span class="string">'e'</span>,<span class="string">'a'</span>];</span><br><span class="line"><span class="keyword">var</span> cal = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    a[b] =  a[b] ? ++a[b] : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;,&#123;&#125;)</span><br><span class="line">cal; <span class="comment">//&#123;a: 3, b: 1, c: 2, v: 1, e: 2&#125;</span></span><br></pre></td></tr></table></figure><p>个人总结：理解这个API，首先应着重理解参数 <code>previousValue</code> 和 <code>initialValue</code>。previousValue，函数没执行时，存储的是第一个值，执行后，存储的是函数执行的返回值，即累计处理的值。initialValue，他的意义在于，给个默认值。避免为空。</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>字典技巧</title>
      <link href="/2018/03/29/%E5%AD%97%E5%85%B8%E6%8A%80%E5%B7%A7/"/>
      <url>/2018/03/29/%E5%AD%97%E5%85%B8%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<p>字典技巧</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><blockquote><p>需求：页面标题会随着路由改变而改变</p></blockquote><p>下面简单模拟一下</p><p>实现方式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"input-box"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> inputBox = <span class="built_in">document</span>.querySelector(<span class="string">'.input-box'</span>);</span><br><span class="line">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'.btn'</span>);</span><br><span class="line">    <span class="keyword">var</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line">    </span><br><span class="line">    btn.onclick = clickHandle;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> val = inputBox.value;</span><br><span class="line">        <span class="keyword">var</span> html = <span class="string">''</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">switch</span> (val) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'a'</span>:</span><br><span class="line">                html = <span class="string">'欢迎来到a页面'</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'b'</span>:</span><br><span class="line">                html = <span class="string">'欢迎来到b页面'</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'c'</span>:</span><br><span class="line">                html = <span class="string">'欢迎来到c页面'</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                html = <span class="string">'欢迎访问'</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        box.innerHTML = html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>优化方式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> inputBox = <span class="built_in">document</span>.querySelector(<span class="string">'.input-box'</span>);</span><br><span class="line">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'.btn'</span>);</span><br><span class="line">    <span class="keyword">var</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> db = &#123;</span><br><span class="line">        <span class="string">'a'</span>: <span class="string">'欢迎来到a页面'</span>,</span><br><span class="line">        <span class="string">'b'</span>: <span class="string">'欢迎来到b页面'</span>,</span><br><span class="line">        <span class="string">'c'</span>: <span class="string">'欢迎来到c页面'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    btn.onclick = clickHandle;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> val = inputBox.value;</span><br><span class="line">        <span class="keyword">var</span> html = !inputBox.value ? <span class="string">'欢迎访问'</span> : db[val];</span><br><span class="line"></span><br><span class="line">        box.innerHTML = html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>结语：这样改法有什么好处？ 就是为了以后容易修改！</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>python识别图片中的文字</title>
      <link href="/2017/09/05/python%E8%AF%86%E5%88%AB%E5%9B%BE%E7%89%87%E4%B8%AD%E7%9A%84%E6%96%87%E5%AD%97/"/>
      <url>/2017/09/05/python%E8%AF%86%E5%88%AB%E5%9B%BE%E7%89%87%E4%B8%AD%E7%9A%84%E6%96%87%E5%AD%97/</url>
      <content type="html"><![CDATA[<p>关于Python的识别图片中的文字并写入</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="问题一：安装相关插件"><a href="#问题一：安装相关插件" class="headerlink" title="问题一：安装相关插件"></a>问题一：安装相关插件</h2><h3 id="安装-pip"><a href="#安装-pip" class="headerlink" title="安装 pip"></a>安装 pip</h3><blockquote><p>1、curl <a href="https://bootstrap.pypa.io/ez_setup.py" target="_blank" rel="noopener">https://bootstrap.pypa.io/ez_setup.py</a> -o - | sudo python<br>2、sudo easy_install pip</p></blockquote><h3 id="安装-pytesseract"><a href="#安装-pytesseract" class="headerlink" title="安装 pytesseract"></a>安装 pytesseract</h3><blockquote><p>pip install pytesseract</p></blockquote><h3 id="安装-PIL"><a href="#安装-PIL" class="headerlink" title="安装 PIL"></a>安装 PIL</h3><blockquote><p>pip install PIL </p></blockquote><p>如果失败 请尝试  </p><blockquote><p>pip install PILLOW</p></blockquote><h3 id="安装识别引擎-tesseract-ocr"><a href="#安装识别引擎-tesseract-ocr" class="headerlink" title="安装识别引擎 tesseract-ocr"></a>安装识别引擎 tesseract-ocr</h3><blockquote><p>brew install tesseract</p></blockquote><p>识别<code>中文</code>的具体办法：</p><blockquote><p>1、下载 chi_sim.traineddata <a href="https://github.com/tesseract-ocr/tessdata/blob/master/chi_sim.traineddata" target="_blank" rel="noopener">地址</a><br>2、 将文件放在 <code>tessdata</code> 目录下，具体路径 <code>/usr/local/Cellar/tesseract/3.05.01/share/tessdata</code>。<code>小技巧</code>：mac打开路径快捷键: Shift + Command + G </p></blockquote><h2 id="问题二：UnicodeEncodeError"><a href="#问题二：UnicodeEncodeError" class="headerlink" title="问题二：UnicodeEncodeError"></a>问题二：UnicodeEncodeError</h2><p>具体报错提示: UnicodeEncodeError: ‘ascii’ codec can’t encode characters in position 0-8: ordinal not in range(128)</p><p>具体原因是，编码方式不对。应该使用 utf-8 编码</p><blockquote><p>f.write(str(text.encode(‘utf-8’)))</p></blockquote><h2 id="问题三：识别不精确"><a href="#问题三：识别不精确" class="headerlink" title="问题三：识别不精确"></a>问题三：识别不精确</h2><p>治标方法：对图像进行二值化，对比度加强等操作</p><p>治本方法：训练它 <a href="http://www.cnblogs.com/wzben/p/5930538.html" target="_blank" rel="noopener">具体方法</a></p><h2 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">## -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">import</span> pytesseract</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image,ImageEnhance</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GetImageDate</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">m</span><span class="params">(self)</span>:</span></span><br><span class="line">        image = Image.open(<span class="string">'images/t2.jpg'</span>)</span><br><span class="line">        imgry = image.convert(<span class="string">'L'</span>)  <span class="comment">#图像加强，二值化</span></span><br><span class="line">        sharpness =ImageEnhance.Contrast(imgry) <span class="comment">#对比度增强</span></span><br><span class="line">        sharp_img = sharpness.enhance(<span class="number">2.0</span>) <span class="comment">#增强的数值</span></span><br><span class="line">        sharp_img.save(<span class="string">"images/t2sharp.jpg"</span>)</span><br><span class="line">        tessdata_dir_config = <span class="string">'--tessdata-dir "/usr/local/Cellar/tesseract/3.05.01/share/tessdata"'</span></span><br><span class="line">        text = pytesseract.image_to_string(sharp_img,lang=<span class="string">'chi_sim'</span>, config=tessdata_dir_config)</span><br><span class="line">        <span class="keyword">return</span> text</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SaveResultToDocument</span><span class="params">(self)</span>:</span></span><br><span class="line">        text = self.m()</span><br><span class="line">        f = open(<span class="string">"img.txt"</span>,<span class="string">"w"</span>)</span><br><span class="line">        <span class="keyword">print</span> text</span><br><span class="line">        f.write(str(text.encode(<span class="string">'utf-8'</span>)))</span><br><span class="line">        f.close()</span><br><span class="line"></span><br><span class="line">g = GetImageDate()</span><br><span class="line">g.SaveResultToDocument()</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>python爬取图片</title>
      <link href="/2017/06/01/python%E7%88%AC%E5%8F%96%E5%9B%BE%E7%89%87/"/>
      <url>/2017/06/01/python%E7%88%AC%E5%8F%96%E5%9B%BE%E7%89%87/</url>
      <content type="html"><![CDATA[<p>关于Python的爬取网站图片示例，基于Python 2.X</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><blockquote><p>完整代码</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">## -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line">reload(sys)  </span><br><span class="line">sys.setdefaultencoding(<span class="string">'utf8'</span>)  </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Spider</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,url,position,regX)</span>:</span></span><br><span class="line">self.url = url</span><br><span class="line">self.position = position</span><br><span class="line">self.regX = regX</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_page_info</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">html = urllib.urlopen(self.url).read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> html</span><br><span class="line"></span><br><span class="line">pic_url = re.findall(self.regX,html,re.S)</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> pic_url:</span><br><span class="line">pic = urllib.urlopen(item)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> item</span><br><span class="line"><span class="comment"># 文件夹不存在则创建</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(self.position):</span><br><span class="line">os.makedirs(self.position)</span><br><span class="line">fp = open(self.position+str(i)+<span class="string">'.jpg'</span>,<span class="string">'wb'</span>)</span><br><span class="line">fp.write(pic.read())</span><br><span class="line">fp.close()</span><br><span class="line">time.sleep(<span class="number">0.5</span>)</span><br><span class="line">i+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://www.umei.cc/meinvtupian/'</span> </span><br><span class="line">position = <span class="string">'/Users/mengfanxu/self/python/images/'</span> </span><br><span class="line">regX = <span class="string">r'&lt;img src="(.+?\.jpg)" '</span>  </span><br><span class="line"></span><br><span class="line">spider = Spider(url,position,regX)</span><br><span class="line">spider.save_page_info()</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>python爬取数据</title>
      <link href="/2017/06/01/python%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE/"/>
      <url>/2017/06/01/python%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE/</url>
      <content type="html"><![CDATA[<style type="text/css">    p.xu-sub{        width: 100%;        background-color: rgba(51,51,51,.85);        color: rgb(204,204,204);        line-height: 44px;        text-indent: 2em;        text-rendering: optimizeLegibility;    }</style><p>关于Python的爬取网站数据示例，基于Python 2.X</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="初始踩坑"><a href="#初始踩坑" class="headerlink" title="初始踩坑"></a>初始踩坑</h2><p class="xu-sub">字符串连接</p><p>爬取的网站是index等于不同的数值，有不同的数据。而这个不同的数值就需要循环赋值，从而爬取数据。而连接这个变量则需要<code>类型转换</code>，具体写法:url = ‘<a href="http://mnks.jxedt.com/get_question?r=0.5327507597500334&amp;index=&#39;+str(i)" target="_blank" rel="noopener">http://mnks.jxedt.com/get_question?r=0.5327507597500334&amp;index=&#39;+str(i)</a></p><p class="xu-sub">Python之for循环</p><p>具体写法 <code>for i in range(1,100)</code></p><p class="xu-sub">json格式数据</p><p>具体写法 <code>json.dumps(data).decode(&quot;unicode_escape&quot;)</code></p><p class="xu-sub">中文格式数据</p><p>具体写法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line">reload(sys)  </span><br><span class="line">sys.setdefaultencoding(<span class="string">'utf8'</span>)</span><br></pre></td></tr></table></figure></p><h2 id="最终代码"><a href="#最终代码" class="headerlink" title="最终代码"></a>最终代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">## -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fabric.api <span class="keyword">import</span> * </span><br><span class="line"><span class="keyword">from</span> fabric.colors <span class="keyword">import</span> * </span><br><span class="line"><span class="keyword">from</span> fabric.contrib.console <span class="keyword">import</span> confirm</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">maxlen = <span class="number">100</span></span><br><span class="line">data = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line">reload(sys)  </span><br><span class="line">sys.setdefaultencoding(<span class="string">'utf8'</span>)  </span><br><span class="line"></span><br><span class="line"><span class="meta">@task</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_data</span><span class="params">()</span>:</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,maxlen):</span><br><span class="line">url = <span class="string">'http://mnks.jxedt.com/get_question?r=0.5327507597500334&amp;index='</span>+str(i)</span><br><span class="line">wp = urllib.urlopen(url)</span><br><span class="line">content = wp.read()</span><br><span class="line">data.append(content)</span><br><span class="line"></span><br><span class="line">fp = open(<span class="string">'data.json'</span>,<span class="string">'wb'</span>)</span><br><span class="line">fp.write(json.dumps(data).decode(<span class="string">"unicode_escape"</span>))</span><br><span class="line">fp.close()</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Fabric </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>node爬取数据</title>
      <link href="/2017/05/24/node%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE/"/>
      <url>/2017/05/24/node%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE/</url>
      <content type="html"><![CDATA[<p>初衷是自己想写个网站，无奈没数据，便自己写个“偷数据”的js</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="初始踩坑"><a href="#初始踩坑" class="headerlink" title="初始踩坑"></a>初始踩坑</h2><p>初始想法是，使用中间件request获取数据，在将数据遍历，用中间件fs的api createWriteStream逐条写入。</p><p>无奈，总是提示错误 write after end</p><p>卒！</p><h2 id="最终代码"><a href="#最终代码" class="headerlink" title="最终代码"></a>最终代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> request = <span class="built_in">require</span>(<span class="string">'request-promise'</span>);</span><br><span class="line"><span class="keyword">var</span> writeStream = fs.createWriteStream(<span class="string">'index.json'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取数据条数</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="keyword">var</span> url;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;num;i++)&#123;</span><br><span class="line">url = <span class="string">'http:www.***.com&amp;index='</span>+i;</span><br><span class="line">request(url).then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">arr.push(data);</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">result</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i==(num<span class="number">-1</span>)) resolve(arr);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">result</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line">writeStream.write(result.toString(),<span class="string">'UTF8'</span>);</span><br><span class="line">writeStream.on(<span class="string">'finish'</span>,()=&gt;&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'写入完成'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">writeStream.on(<span class="string">'error'</span>,()=&gt;&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'写入错误'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">writeStream.end();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h3><p>极其同意网上的一种说法，他其实是假的同步，本质还是异步<br>所以这里使用 if(i==(num-1)) resolve(arr); 来保证数据获取完毕</p><p>简要说明几点</p><blockquote><ul><li>数据传递用的是 resolve ，从而实现了假的同步</li><li>reject用于处理错误</li></ul></blockquote><p>贴个网址 <a href="https://wohugb.gitbooks.io/promise/content/introduction/index.html" target="_blank" rel="noopener">Promise Book</a></p><h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><p>注意这个for循环声明循环变量用的是<code>let</code>不是var,这里并不是说var实现不了，而是使用var的话得使用闭包，才能保证程序的正确运行。</p><p>为什么用了let就可以不用闭包呢？</p><p>let声明的变量只在自己的    <code>块级作用域</code>（该作用域是es6新增的）有效。</p><p>那为什么var就不行呢？</p><p>当然，我可以回答，它没有块作用域的概念，只有自己的局部作用域的啦。显然这样回答，肯定会一脸懵逼。。<br>具体原因，这里简要说说，要从for循环讲起，js的for循环有两个作用域，一个外部循环，一个内部表达式。每次循环，从循环出取得值压入栈中，内部的表达式每次执行再从这个栈中获取数值，在进行相应的处理并输出。使用var，如本例这种异步请求（可简单记为 耗时请求），向栈中获取数据只能获取到最后的一个数据，也就只能获取一条数据了，（题外话，这也就是常考的闭包问题）。用了let，循环处就有了自己的<code>块级作用域</code>，而块级作用域只对该块有效，也就是说异步请求中表达式处理的循环变量都是不同块中的值，互不影响，也就有了多条数值。</p><h3 id="writeStream-write"><a href="#writeStream-write" class="headerlink" title="writeStream.write"></a>writeStream.write</h3><p>写入的数据貌似只能是String类型，这里直接传递result,会报错（好坑啊！好坑啊！好坑啊！）,所以要使用toString api使其类型转换。</p><h2 id="不足之处"><a href="#不足之处" class="headerlink" title="不足之处"></a>不足之处</h2><blockquote><ul><li>获取的网址接口必须是类似 http:www.***.com&amp;index=1 这种的。根据index的值累加获取不同数据的。</li><li>获取的数据没按着顺序，感觉应该是异步的原因，暂时未解决。</li></ul></blockquote><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>vuex简单使用说明</title>
      <link href="/2017/05/12/vuex%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/"/>
      <url>/2017/05/12/vuex%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/</url>
      <content type="html"><![CDATA[<p>简简单单的vuex学习</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="基础说明"><a href="#基础说明" class="headerlink" title="基础说明"></a>基础说明</h2><p><a href="https://vuex.vuejs.org/zh-cn/intro.html" target="_blank" rel="noopener">vuex说明网站</a></p><h3 id="官方语言说明"><a href="#官方语言说明" class="headerlink" title="官方语言说明"></a>官方语言说明</h3><p>Vuex 是一个专为 Vue.js应用程序开发的<code>状态管理模式</code>。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p><h3 id="自己总结"><a href="#自己总结" class="headerlink" title="自己总结"></a>自己总结</h3><p>Vuex它有一个库，这个库可以控制<code>全局组件</code>，类似一个管理者，可以管理程序员的工作，也可以管理扫地大妈的工作。它给程序员和扫地大妈分发任务，并可以及时响应他俩的工作情况。</p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><h3 id="官方示例"><a href="#官方示例" class="headerlink" title="官方示例"></a>官方示例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果在模块化构建系统中，请确保在开头调用了 Vue.use(Vuex)</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.commit(<span class="string">'increment'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(store.state.count) <span class="comment">// -&gt; 1</span></span><br></pre></td></tr></table></figure><h3 id="自己示例"><a href="#自己示例" class="headerlink" title="自己示例"></a>自己示例</h3><p>示例说明：vuex在vue-cli环境下实现vue-resource的拦截器（控制一个loading动画的显示隐藏）</p><blockquote><p>① 在src文件夹下新建 store 文件夹，并在里面新建index.js</p></blockquote><p>index.js内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span>;</span><br><span class="line"><span class="keyword">import</span> VueResource <span class="keyword">from</span> <span class="string">'vue-resource'</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex);</span><br><span class="line">Vue.use(VueResource);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">state: &#123;</span><br><span class="line">      loadingState: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">      showLoading : <span class="function"><span class="params">state</span> =&gt;</span> state.loadingState = <span class="literal">true</span>,</span><br><span class="line">      hiddenLoading : <span class="function"><span class="params">state</span> =&gt;</span> state.loadingState = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>② 修改main.js</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 添加如下代码 --&gt;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Vue.http.interceptors.push(<span class="function">(<span class="params">request, next</span>) =&gt;</span> &#123;</span><br><span class="line">    store.commit(<span class="string">'showLoading'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'请求中...'</span>);</span><br><span class="line">    next(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">        store.commit(<span class="string">'hiddenLoading'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'请求结束...'</span>);</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>③ 修改App.vue</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loading</span> <span class="attr">v-show</span>=<span class="string">"loadingShow"</span>&gt;</span><span class="tag">&lt;/<span class="name">loading</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> loading <span class="keyword">from</span> <span class="string">"./components/Loading.vue"</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">data()&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">computed: &#123;</span></span><br><span class="line"><span class="undefined">    loadingShow () &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="keyword">this</span>.$store.state.loadingState</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  components:&#123;</span></span><br><span class="line"><span class="undefined">  loading</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="代码说明"><a href="#代码说明" class="headerlink" title="代码说明"></a>代码说明</h4><ul><li>index.js 用于<code>全局状态管理</code> 。<code>state</code> 设定初始状态，<code>mutations</code> 设定状态变化,可以用store.commit()来触发</li><li>main.js 用于导入store,导入后其他.vue文件就可以用<code>this.$store</code>来控制状态了。并设置数据请求时Loading动画的显示和隐藏</li><li>App.vue 导入Loading动画组件，并用计算属性控制组件的显示隐藏</li></ul><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul><li>需在main.js中的new Vue中导入 store</li><li>状态写在data()里面是不起作用的，必须用<code>计算属性</code>来控制</li><li>有些事物分开理解，你可能会豁然开朗</li></ul><h3 id="总结说明"><a href="#总结说明" class="headerlink" title="总结说明"></a>总结说明</h3><p>主体思路是，新建个库(store)，用于存储状态和响应状态变化，借此控制全局组件。其他组件想要它来控制，则需在主文件(main.js)中导入。便可以轻松的切换状态(this.$store.commit())</p><p>友情提示，点击下面链接，切换到vuex分支查看代码</p><p><a href="https://github.com/mfx55/driving-test" target="_blank" rel="noopener">你点和不点，我都在这里</a></p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> vuex </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vuex </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>node-express结合vue-cli开发之初始环境搭建</title>
      <link href="/2017/05/09/node-express%E7%BB%93%E5%90%88vue-cli%E5%BC%80%E5%8F%91%E4%B9%8B%E5%88%9D%E5%A7%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2017/05/09/node-express%E7%BB%93%E5%90%88vue-cli%E5%BC%80%E5%8F%91%E4%B9%8B%E5%88%9D%E5%A7%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      <content type="html"><![CDATA[<style type="text/css">    p.xu-sub{        width: 100%;        background-color: rgba(51,51,51,.85);        color: rgb(204,204,204);        line-height: 44px;        text-indent: 2em;        text-rendering: optimizeLegibility;    }</style><p>node-express结合vue-cli开发之初始环境搭建</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>node-express是<code>后台框架</code>，vue-cli是<code>前台</code>框架，所以分开写更好</p><p>如图,back-end为后台文件夹，front-end为前台文件夹</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/WX20170509-110908.png" alt="text"></p><h2 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h2><h3 id="安装express"><a href="#安装express" class="headerlink" title="安装express"></a>安装express</h3><p class="xu-sub">npm install -g express-generator</p><p class="xu-sub">express –view ejs</p><p class="xu-sub">npm install</p><h3 id="修改-app-js"><a href="#修改-app-js" class="headerlink" title="修改 app.js"></a>修改 app.js</h3><p class="xu-sub">设置跨域</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 跨域支持</span></span><br><span class="line">app.all(<span class="string">'*'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'*'</span>);</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Headers'</span>, <span class="string">'Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild'</span>);</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Methods'</span>, <span class="string">'PUT, POST, GET, DELETE, OPTIONS'</span>);</span><br><span class="line"></span><br><span class="line">  next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p class="xu-sub">修改静态目录</p><blockquote><p>app.use(express.static(path.join(__dirname, ‘../front-end’)));</p></blockquote><p>目的，将文件目录导向前端的index.html上</p><h3 id="创建connection-js"><a href="#创建connection-js" class="headerlink" title="创建connection.js"></a>创建connection.js</h3><p class="xu-sub">连接封装</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">"mysql"</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @returns &#123;Connection&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> conn = mysql.createConnection(&#123;</span><br><span class="line">        host: <span class="string">"localhost"</span>,</span><br><span class="line">        user: <span class="string">"root"</span>,</span><br><span class="line">        password: <span class="string">""</span>,</span><br><span class="line">        database: <span class="string">"test"</span></span><br><span class="line">    &#125;);</span><br><span class="line">    conn.oConnect = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            conn.connect(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">                    resolve(conn);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    reject(err);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;;</span><br><span class="line">    conn.oQuery = <span class="function"><span class="keyword">function</span> (<span class="params">sql, values</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">            conn.query(sql, values, <span class="function"><span class="keyword">function</span> (<span class="params">err, rows</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">                    resolve(rows);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    reject(err);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> conn;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>我的node版本低,所以使用严格模式</p><h3 id="设置路由，创建接口"><a href="#设置路由，创建接口" class="headerlink" title="设置路由，创建接口"></a>设置路由，创建接口</h3><p class="xu-sub">借口封装</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> router = express.Router();</span><br><span class="line"><span class="keyword">const</span> connection = <span class="built_in">require</span>(<span class="string">'../sources/connection'</span>);</span><br><span class="line"><span class="comment">/* GET users listing. */</span></span><br><span class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">&#125;);</span><br><span class="line">router.post(<span class="string">'/con'</span>,(req,res,next)=&gt;&#123;</span><br><span class="line"><span class="keyword">let</span> conn = connection();</span><br><span class="line">conn.oConnect().then(<span class="function"><span class="params">result</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> conn.oQuery(<span class="string">'SELECT * FROM users'</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">rows</span>=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(rows.length) res.json(&#123;<span class="attr">data</span>:rows&#125;);</span><br><span class="line">conn.end();</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">res.json(&#123;<span class="attr">data</span>:error&#125;);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure><h3 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h3><h4 id="安装-mysql-中间件"><a href="#安装-mysql-中间件" class="headerlink" title="安装 mysql 中间件"></a>安装 mysql 中间件</h4><blockquote><p>npm install mysql –save</p></blockquote><h4 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h4><p><img src="http://oo6bpvt6y.bkt.clouddn.com/WX20170509-140645.png" alt=""></p><h4 id="开启服务"><a href="#开启服务" class="headerlink" title="开启服务"></a>开启服务</h4><p class="xu-sub">cd back-end</p><p class="xu-sub">node bin/www</p><p>这里可以在app.js添加一行代码 console.log(‘success’); 便可出现链接成功的提示</p><h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><h3 id="安装vue-cli"><a href="#安装vue-cli" class="headerlink" title="安装vue-cli"></a>安装vue-cli</h3><p class="xu-sub">npm install -g vue-cli</p><br><p class="xu-sub">vue init webpack 项目名</p><blockquote><p>执行命令后会有好多选项，开始选项直接敲回车即可，毕竟练习，route选择y，其他n，毕竟练习</p></blockquote><h3 id="目录结构-1"><a href="#目录结构-1" class="headerlink" title="目录结构"></a>目录结构</h3><p><img src="http://oo6bpvt6y.bkt.clouddn.com/WX20170509-142751.png" alt=""></p><h3 id="各个目录说明"><a href="#各个目录说明" class="headerlink" title="各个目录说明"></a>各个目录说明</h3><p><a href="https://juejin.im/entry/58f48484da2f60005d3cb46c" target="_blank" rel="noopener">点我，点我，点我</a></p><h3 id="index-vue-示例"><a href="#index-vue-示例" class="headerlink" title="index.vue 示例"></a>index.vue 示例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hello"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> @<span class="attr">click</span>=<span class="string">"show"</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  name: <span class="string">'hello'</span>,</span></span><br><span class="line"><span class="undefined">  data () &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      msg: <span class="string">'点我看数据'</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  methods:&#123;</span></span><br><span class="line"><span class="javascript">    show:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$http</span></span><br><span class="line"><span class="javascript">          .post(<span class="string">'http://localhost:3000/users/con'</span>)</span></span><br><span class="line"><span class="javascript">          .then(<span class="function"><span class="params">result</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(result.data);</span></span><br><span class="line"><span class="undefined">          &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里有个应用vue-resource的问题<br>具体引入在src文件夹下main.js中引入，如</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> VueResource <span class="keyword">from</span> <span class="string">'vue-resource'</span> </span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line">Vue.use(VueResource);</span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><ul><li>import VueResource from ‘vue-resource’ </li><li>Vue.use(VueResource);</li></ul></blockquote><h3 id="执行-npm-run-dev"><a href="#执行-npm-run-dev" class="headerlink" title="执行 npm run dev"></a>执行 npm run dev</h3><p>会自动用 <a href="http://localhost:8080/#/" target="_blank" rel="noopener">localhost:8080</a> 打开</p><p>如图</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/WX20170509-143558.png" alt=""></p><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h3><p><a href="https://aaaaaashu.gitbooks.io/mac-dev-setup/content/MySql/index.html" target="_blank" rel="noopener">传送门</a></p><h3 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h3><blockquote><ul><li>数据库名 test</li><li>表名 users</li><li>三个字段 id(int),name(varchar len:128),pwd(varchar len:128)</li></ul></blockquote><p>我用的sequel pro客户端(mac)</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><blockquote><p>主题思路是，把前后端分开处理，前端利用跨域去请求后端数据，从而渲染到页面</p></blockquote><blockquote><p>打开 <a href="https://github.com/mfx55/driving-test" target="_blank" rel="noopener">https://github.com/mfx55/driving-test</a> 切换到test分支即可查看所有代码</p></blockquote><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>从客户端看git命令</title>
      <link href="/2017/04/28/%E4%BB%8E%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9C%8Bgit%E5%91%BD%E4%BB%A4/"/>
      <url>/2017/04/28/%E4%BB%8E%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9C%8Bgit%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<style type="text/css">    p.xu-sub{        width: 100%;        background-color: rgba(51,51,51,.85);        color: rgb(204,204,204);        line-height: 44px;        text-indent: 2em;        text-rendering: optimizeLegibility;    }</style><p>该博文以sourceTree软件为例子，根据相关操作，来看git 命令</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="sourceTree页面"><a href="#sourceTree页面" class="headerlink" title="sourceTree页面"></a>sourceTree页面</h2><p><img height="340px" src="http://oo6bpvt6y.bkt.clouddn.com/WX20170428-134734.png" alt=""></p><h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><p class="xu-sub">git add “文件名” 或 git add * </p><p class="xu-sub">git commit -m “代码提交信息” </p><ul><li>提交的目的地是本地仓库<code>（注意这里还没提交到远端）</code></li></ul><h2 id="拉取"><a href="#拉取" class="headerlink" title="拉取"></a>拉取</h2><p class="xu-sub">git pull [远端分支或仓库名字] [本地分支或仓库名字]</p><ul><li>每次切换机器，你应该想到先执行这个命令，在进行后续操作</li></ul><h2 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h2><p class="xu-sub">git push [远端分支或仓库名字] [本地分支或仓库名字]</p><ul><li>命令 git push origin test:master 提交本地test分支作为远程的master分支，没有会自动创建</li><li>命令 git push origin test:test 提交本地test分支作为远程的test分支</li></ul><h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><p class="xu-sub">git branch</p><p class="xu-sub">git checkout</p><ul><li>命令 git branch 查看本地分支</li><li>命令 git branch -r 查看远程分支</li><li>命令 git branch [name] 创建本地分支 在执行git push origin [远端分支名]:[本地分支名],即可将本地分支提交到远端</li><li>命令 git checkout [name] 切换分支</li><li>命令 git checkout -b [name] 创建新分支并立即切换到新分支</li><li>命令  git branch -d [name]  删除一个<code>合并过</code>的分支，强制删除 -D</li></ul><h2 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h2><p class="xu-sub">git merge</p><ul><li>命令 git merge [name]  将名称为[name]的分支与当前分支合并</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css3轨迹动画</title>
      <link href="/2017/04/25/css3%E8%BD%A8%E8%BF%B9%E5%8A%A8%E7%94%BB/"/>
      <url>/2017/04/25/css3%E8%BD%A8%E8%BF%B9%E5%8A%A8%E7%94%BB/</url>
      <content type="html"><![CDATA[<p>css轨迹动画</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p></p><p data-height="230" data-theme-id="7928" data-slug-hash="MmjZOb" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/MmjZOb" target="_blank" rel="noopener">MmjZOb</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><h2 id="原理说明"><a href="#原理说明" class="headerlink" title="原理说明"></a>原理说明</h2><ul><li>利用伪类，伪类中存放数据</li><li>二维中，x轴和y轴共同促进元素运动，从而形成轨迹动画</li><li>动画过程中，x轴动画靠父类实现，y轴动画靠伪类实现</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>git从建库到提交</title>
      <link href="/2017/04/24/git%E5%BB%BA%E5%BA%93%E3%80%81%E4%BF%AE%E6%94%B9%E3%80%81%E6%8F%90%E4%BA%A4/"/>
      <url>/2017/04/24/git%E5%BB%BA%E5%BA%93%E3%80%81%E4%BF%AE%E6%94%B9%E3%80%81%E6%8F%90%E4%BA%A4/</url>
      <content type="html"><![CDATA[<style type="text/css">    p.xu-sub{        width: 100%;        background-color: rgba(51,51,51,.85);        color: rgb(204,204,204);        line-height: 44px;        text-indent: 2em;        text-rendering: optimizeLegibility;    }</style><p>初次建立git仓库的流程，这里简单几下，方便以后查看</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="建库"><a href="#建库" class="headerlink" title="建库"></a>建库</h2><p class="xu-sub">打开GitHub网站 <a href="https://github.com" target="_blank" rel="noopener">github.com</a> 登录自己的账号 如图执行一些步骤</p><p><code>注：图片可以点击放大查看</code></p><p><img height="200px" src="http://oo6bpvt6y.bkt.clouddn.com/WX20170424-135608.png"><br><img height="185px" src="http://oo6bpvt6y.bkt.clouddn.com/WX20170424-134820.png"><br><img height="260px" src="http://oo6bpvt6y.bkt.clouddn.com/WX20170424-134914.png"></p><p class="xu-sub">打开GitHub上新建的库,会看到一些命令行信息</p><p><img height="200px" src="http://oo6bpvt6y.bkt.clouddn.com/WX20170424-141840%20%281%29.png"></p><h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><p class="xu-sub">打开命令行工具</p><ul><li><code>从远端克隆到本地</code> git clone <a href="https://github.com/mfx55/test.git" target="_blank" rel="noopener">https://github.com/mfx55/test.git</a>                 </li><li><code>打开test文件夹</code> cd test                                                     </li><li><code>移除默认分支</code> git remote rm origin                                         </li><li><code>创建连接</code> git remote add origin <a href="https://github.com/mfx55/test.git" target="_blank" rel="noopener">https://github.com/mfx55/test.git</a>     </li><li><code>放入文件</code> 用编译器打开test文件，把自己的项目丢进去</li><li><code>填写提交说明</code> git commit -m ‘注释信息’                                     </li><li><code>将本地项目推送到远端</code> git push origin master </li></ul><p></p><p class="xu-sub">大功告成</p><br><img src="http://oo6bpvt6y.bkt.clouddn.com/WX20170424-145003%20%281%29.png" alt="">                                    <p></p><h2 id="零碎知识"><a href="#零碎知识" class="headerlink" title="零碎知识"></a>零碎知识</h2><ul><li>可以使用命令行添加个 .gitignore（忽略文件） README.md (项目说明)</li><li>.gitignore 格式参考 <a href="https://github.com/mfx55/bishe/blob/master/.gitignore" target="_blank" rel="noopener">.girignore.com</a></li><li>README.md 他是采用的markdown语法写的，看后缀也知道了。。</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>链式写法</title>
      <link href="/2017/04/18/%E9%93%BE%E5%BC%8F%E5%86%99%E6%B3%95/"/>
      <url>/2017/04/18/%E9%93%BE%E5%BC%8F%E5%86%99%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>函数式编程</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="一般写法"><a href="#一般写法" class="headerlink" title="一般写法"></a>一般写法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">520</span> - <span class="number">11</span> + <span class="number">520</span> - <span class="number">1</span>); <span class="comment">// 1028</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sub(sum(sub(<span class="number">520</span>,<span class="number">11</span>),<span class="number">520</span>),<span class="number">1</span>)); <span class="comment">// 1028</span></span><br></pre></td></tr></table></figure><p>缺点很明显嘛</p><ul><li>难看的要死</li><li>写起来也贼不舒服</li><li>极容易出错</li></ul><h2 id="链式写法"><a href="#链式写法" class="headerlink" title="链式写法"></a>链式写法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> chain = &#123;</span><br><span class="line">    setValue: <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._temp = a;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    sum: <span class="function"><span class="keyword">function</span> (<span class="params">b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._temp += b;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    sub: <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._temp -= c;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    getValue: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(chain.setValue(<span class="number">520</span>).sub(<span class="number">11</span>).sum(<span class="number">520</span>).sub(<span class="number">1</span>).getValue()); <span class="comment">// 1028</span></span><br></pre></td></tr></table></figure><h3 id="知识要点"><a href="#知识要点" class="headerlink" title="知识要点"></a>知识要点</h3><p>这种链式的写法，重点在于他用了个<code>对象</code>，每次的操作到返回到这个<code>对象</code>上，从而进行下一步操作。</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 函数式编程 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>animation和transition</title>
      <link href="/2017/04/13/animation%E5%92%8Ctransition/"/>
      <url>/2017/04/13/animation%E5%92%8Ctransition/</url>
      <content type="html"><![CDATA[<p>关于animation和transition两种CSS动画的个人理解</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="一语中的"><a href="#一语中的" class="headerlink" title="一语中的"></a>一语中的</h2><p><code>animation</code> 可以实现永远循环的动画<br><code>transition</code> 可以实现hover鼠标移除移入的动画</p><h2 id="屏气凝神"><a href="#屏气凝神" class="headerlink" title="屏气凝神"></a>屏气凝神</h2><ul><li>transform的行使对象应该是<code>块级元素</code></li><li>写hover动画的时候，默然对象状态要有和hover状态中与之对应的属性，例子：如果hover里面有left:30px,对应的原始状态里面也应该有left:0;</li><li>初始状态中有rotate(90deg),再在hover里面写rotate(0deg)，hover后目标元素应该是保持其应有的状态（这里指角度），而不是其应有状态在旋转-90度，移动，缩放等同理</li><li>动画有时候会设置旋转点，而这个设置应该在本身样式里面设置，而不是在hover里面设置。</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>3D动画</title>
      <link href="/2017/04/13/3D%E5%8A%A8%E7%94%BB/"/>
      <url>/2017/04/13/3D%E5%8A%A8%E7%94%BB/</url>
      <content type="html"><![CDATA[<p>关于css3 3D动画的一些讲解 </p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><blockquote><p>先来一个骰子动画</p></blockquote><p></p><p data-height="500" data-theme-id="7928" data-slug-hash="MmWGxy" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/MmWGxy" target="_blank" rel="noopener">MmWGxy</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><p>是不是挺炫。。</p><p>好的，下面正式开始讲解</p><p>前言，基础这里就不懂说了，只记下自己的感悟和理解</p><p>先看图：</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20160924162811746-682665750.png" alt=""></p><p>这个就是css3中 3D的坐标轴（<code>注意上方是y的负半轴</code>）</p><p>这是沿着每个轴的默认旋转的方向，X,Z轴是顺时针，Y轴是逆时针。其实确切说Y轴也是顺时针，只不过转的是负半轴，视觉是逆时针而已</p><p>默认旋转基点是50% 50% 50%，可以通过transform-origin来改变</p><p>先看下布置界面的代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        *&#123;</span></span><br><span class="line"><span class="undefined">            margin: 0;</span></span><br><span class="line"><span class="undefined">            padding: 0;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        #box &#123;</span></span><br><span class="line"><span class="undefined">            position: relative;</span></span><br><span class="line"><span class="undefined">            top: 200px;</span></span><br><span class="line"><span class="undefined">            left: 500px;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .con1 &#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            height: 200px;</span></span><br><span class="line"><span class="undefined">            background: red;</span></span><br><span class="line"><span class="undefined">            text-align: center;</span></span><br><span class="line"><span class="undefined">            line-height: 200px;</span></span><br><span class="line"><span class="undefined">            font-size: 96px;</span></span><br><span class="line"><span class="undefined">            color: #1a7fdc;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"con1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果图：</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20160924163438199-1746557756.png" alt=""></p><p>改装代码：</p><p>不说别的，先给#box添加以下代码transform-style: preserve-3d;意思是为其子元素保留3D效果和transition: all 5s;使其有动画效果</p><p>最终代码:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">    <span class="attribute">-webkit-transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">5s</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">5s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>开始设置con1的3D效果</p><p>代码修改为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.con1</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">96px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#1a7fdc</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(50px);</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translateX</span>(50px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果不多说，con1向右移动50px</p><p>如果改为:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: translateY(<span class="number">50</span>px);</span><br></pre></td></tr></table></figure><p>con1会向下移动50px (<code>注意这里不是向上</code>)</p><p>改为:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: translateZ(<span class="number">50</span>px);</span><br></pre></td></tr></table></figure><p>并不能看出效果，视觉本身就直着看这z轴，所以任何向Z轴上的移动，都看不出来</p><p>先看旋转整体图</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20160924171023606-1083117185.png" alt=""></p><p>这是沿着每个轴的默认旋转的方向，X,Z轴是顺时针，Y轴是逆时针。其实确切说Y轴也是顺时针，只不过转的是负半轴，视觉是逆时针而已</p><p>默认旋转基点是50% 50% 50%，可以通过transform-origin来改变</p><p>代码改为:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: rotateX(<span class="number">20</span>deg);</span><br></pre></td></tr></table></figure><p>效果是高度变小。其实是旋转了。</p><p><code>移动和旋转的结合</code>，详情请看上面的第二个代码 。这里简要说理解。</p><p>transform:rotateX(20deg) translateX(100px)和 transform:translateX(100px) rotateX(20deg) 两者不同，因为旋转点变化了</p><p>旋转后，坐标轴也会跟着旋转。如代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: rotateY(<span class="number">90</span>deg) ;</span><br></pre></td></tr></table></figure><p>坐标轴相应会改变为：</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20160924170020309-1366057803.png" alt=""></p><p>这时候如果再添加以下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform: rotateY(<span class="number">90</span>deg) translateX(<span class="number">100</span>px) ;</span><br></pre></td></tr></table></figure><p>图形会向前移动100px，而不是向右</p><p>吐槽，真的好难说明，感觉这个3D还是在于理解，不会的话可以自己做个骰子出来，就都会了。</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>文字超出两行用省略号显示</title>
      <link href="/2017/04/12/%E6%96%87%E5%AD%97%E8%B6%85%E5%87%BA%E4%B8%A4%E8%A1%8C%E7%94%A8%E7%9C%81%E7%95%A5%E5%8F%B7%E6%98%BE%E7%A4%BA/"/>
      <url>/2017/04/12/%E6%96%87%E5%AD%97%E8%B6%85%E5%87%BA%E4%B8%A4%E8%A1%8C%E7%94%A8%E7%9C%81%E7%95%A5%E5%8F%B7%E6%98%BE%E7%A4%BA/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        p&#123;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            overflow: hidden;</span></span><br><span class="line"><span class="undefined">            text-overflow: ellipsis;</span></span><br><span class="line"><span class="undefined">            display: -webkit-box;</span></span><br><span class="line"><span class="undefined">            -webkit-line-clamp: 2;</span></span><br><span class="line"><span class="undefined">            -webkit-box-orient: vertical;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>就发生的龙卷风收到货发生的 阿斯顿发计划书店里辅导书给客户发大水了发斯蒂芬返回发生的回复科技收到货发生</span><br><span class="line">    就发生的龙卷风收到货发生的 阿斯顿发计划书店里辅导书给客户发大水了发斯蒂芬返回发生的回复科技收到货发生</span><br><span class="line">    就发生的龙卷风收到货发生的 阿斯顿发计划书店里辅导书给客户发大水了发斯蒂芬返回发生的回复科技收到货发生</span><br><span class="line">    就发生的龙卷风收到货发生的 阿斯顿发计划书店里辅导书给客户发大水了发斯蒂芬返回发生的回复科技收到货发生<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果图：<br><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20161003085047848-1590630361.png" alt=""></p><blockquote><p>注意点：看代码有webkit自然也就chrome支持好，其他浏览器就。。啧啧啧</p></blockquote><p><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20161003085210864-1871399109.png" alt=""></p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> 技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>before和after的强大</title>
      <link href="/2017/04/12/before%E5%92%8Cafter%E7%9A%84%E5%BC%BA%E5%A4%A7/"/>
      <url>/2017/04/12/before%E5%92%8Cafter%E7%9A%84%E5%BC%BA%E5%A4%A7/</url>
      <content type="html"><![CDATA[<p>前言：刚学他两个的时候，是用于清除浮动，而且曾单纯的以为俩只有这作用。</p><p>但看到几篇博客后，发现自己是多么的无知，他两个的强大远不止于此。</p><p>当然，这篇文章大多数是借鉴网上的实例，在加上自己的些许简介而成。</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p><code>不适用于单标签，例如&lt;img&gt;、&lt;input&gt;。</code></p><h2 id="心形背景"><a href="#心形背景" class="headerlink" title="心形背景"></a>心形背景</h2><p></p><p data-height="157" data-theme-id="7928" data-slug-hash="LyYVXo" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/LyYVXo" target="_blank" rel="noopener">LyYVXo</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><h2 id="划入变亮"><a href="#划入变亮" class="headerlink" title="划入变亮"></a>划入变亮</h2><p></p><p data-height="157" data-theme-id="7928" data-slug-hash="gWOpqr" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/gWOpqr" target="_blank" rel="noopener">gWOpqr</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><h2 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    <span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/*处理兼容*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"."</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于json的理解</title>
      <link href="/2017/04/12/%E5%85%B3%E4%BA%8Ejson%E7%9A%84%E7%90%86%E8%A7%A3/"/>
      <url>/2017/04/12/%E5%85%B3%E4%BA%8Ejson%E7%9A%84%E7%90%86%E8%A7%A3/</url>
      <content type="html"><![CDATA[<p>json可是个好东西，便于书写且读取简单，轻轻松松搞定数据<br>这篇文章主要讲解json的一些注意点</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="获取数组或对象的长度"><a href="#获取数组或对象的长度" class="headerlink" title="获取数组或对象的长度"></a>获取数组或对象的长度</h2><ul><li><code>数组</code> array.length</li><li><code>对象</code> Object.keys(obj).length</li></ul><h2 id="如何抉择-和"><a href="#如何抉择-和" class="headerlink" title="如何抉择{}和[]"></a>如何抉择{}和[]</h2><p><code>两者区别：</code></p><ul><li><code>{}</code>：父类下面直接是子类名称</li><li><code>[]</code>：父类下会追加数字，0,1,2…</li></ul><p>例子:</p><p>考试试卷中，有如下元素，问题（多个），图片，答案，其中答案中又有多个选项<br>问题，图片，答案之间使用{}比较合适，因为他们都是独立的选项<br>多个问题之间，多个选项之间用[]比较合适，这样的好处，直接用[0],[1]等便可选择数据，而不需重新定义名字　</p><blockquote><p>总归一句话：不同类之间用{},相同类的不同表现形式使用[]　　</p></blockquote><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技巧 </tag>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>淘宝初始化css代码</title>
      <link href="/2017/04/12/%E6%B7%98%E5%AE%9D%E5%88%9D%E5%A7%8B%E5%8C%96css%E4%BB%A3%E7%A0%81/"/>
      <url>/2017/04/12/%E6%B7%98%E5%AE%9D%E5%88%9D%E5%A7%8B%E5%8C%96css%E4%BB%A3%E7%A0%81/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">hr</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">li</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">form</span>, <span class="selector-tag">fieldset</span>, <span class="selector-tag">legend</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font</span>:<span class="number">12px</span>/<span class="number">1.5</span>tahoma, arial, \<span class="number">5</span>b8b\<span class="number">4</span>f53; &#125;</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>&#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125;</span><br><span class="line"><span class="selector-tag">address</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">var</span> &#123; <span class="attribute">font-style</span>:normal; &#125;</span><br><span class="line"><span class="selector-tag">code</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">samp</span> &#123; <span class="attribute">font-family</span>:couriernew, courier, monospace; &#125;</span><br><span class="line"><span class="selector-tag">small</span>&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; &#125;</span><br><span class="line"><span class="selector-tag">ul</span>, <span class="selector-tag">ol</span> &#123; <span class="attribute">list-style</span>:none; &#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">text-decoration</span>:none; &#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">text-decoration</span>:underline; &#125;</span><br><span class="line"><span class="selector-tag">sup</span> &#123; <span class="attribute">vertical-align</span>:text-top; &#125;</span><br><span class="line"><span class="selector-tag">sub</span>&#123; <span class="attribute">vertical-align</span>:text-bottom; &#125;</span><br><span class="line"><span class="selector-tag">legend</span> &#123; <span class="attribute">color</span>:<span class="number">#000</span>; &#125;</span><br><span class="line"><span class="selector-tag">fieldset</span>, <span class="selector-tag">img</span> &#123; <span class="attribute">border</span>:<span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font-size</span>:<span class="number">100%</span>; &#125;</span><br><span class="line"><span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>:collapse; <span class="attribute">border-spacing</span>:<span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>cookie</title>
      <link href="/2017/04/12/cookie/"/>
      <url>/2017/04/12/cookie/</url>
      <content type="html"><![CDATA[<p>关于cookie的讲解</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="纯手动操作cookie代码"><a href="#纯手动操作cookie代码" class="headerlink" title="纯手动操作cookie代码"></a>纯手动操作cookie代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"用户名"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"meng.saveCookie()"</span> <span class="attr">value</span>=<span class="string">"保存cookie"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"meng.deleteCookie()"</span> <span class="attr">value</span>=<span class="string">"删除cookie"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"show"</span> <span class="attr">id</span>=<span class="string">"show"</span> <span class="attr">cols</span>=<span class="string">"30"</span> <span class="attr">rows</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.meng = <span class="built_in">window</span>.meng || &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">saveCookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> username = <span class="built_in">document</span>.getElementById(<span class="string">"username"</span>).value;</span><br><span class="line">        <span class="keyword">var</span> password = <span class="built_in">document</span>.getElementById(<span class="string">"password"</span>).value;</span><br><span class="line">        <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        date.setTime(date.getTime() + <span class="number">5000</span>);</span><br><span class="line">        setCookie(<span class="string">"userName"</span>, username, date.toUTCString(), <span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">        setCookie(<span class="string">"password"</span>, password, date.toUTCString(), <span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">        showCookie();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params">name, value, expires, path, domain, secure</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.cookie = name + <span class="string">"="</span> + <span class="built_in">encodeURI</span>(value) +</span><br><span class="line">            ((expires) ? <span class="string">";expires="</span> + expires : <span class="string">""</span>) +</span><br><span class="line">            ((path) ? <span class="string">";path="</span> + path : <span class="string">""</span>) +</span><br><span class="line">            ((domain) ? <span class="string">";domain="</span> + domain : <span class="string">""</span>) +</span><br><span class="line">            ((secure) ? <span class="string">";secure="</span> + secure : <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">cName</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> cookieString = <span class="built_in">decodeURI</span>(<span class="built_in">document</span>.cookie);</span><br><span class="line">        <span class="built_in">console</span>.log(cookieString);</span><br><span class="line">        <span class="keyword">var</span> cookieArray = cookieString.split(<span class="string">"; "</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(cookieArray);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cookieArray.length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> cookieNum = cookieArray[i].split(<span class="string">"="</span>);</span><br><span class="line">            <span class="keyword">var</span> cookieName = cookieNum[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">var</span> cookieValue = cookieNum[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (cookieName == cName) &#123;</span><br><span class="line">                <span class="keyword">return</span> cookieValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">showCookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> txt = <span class="built_in">document</span>.getElementById(<span class="string">"show"</span>);</span><br><span class="line">        txt.value = <span class="string">"用户名："</span> + getCookie(<span class="string">"userName"</span>) + <span class="string">"\n密码："</span> + getCookie(<span class="string">"password"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">deleteCookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        date.setTime(date.getTime() - <span class="number">1000</span>);</span><br><span class="line">        setCookie(<span class="string">"userName"</span>, <span class="string">""</span>, date.toUTCString(), <span class="string">""</span>, <span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">        setCookie(<span class="string">"password"</span>, <span class="string">""</span>, date.toUTCString(), <span class="string">""</span>, <span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">        showCookie();</span><br><span class="line">    &#125;</span><br><span class="line">    meng.saveCookie = saveCookie;</span><br><span class="line">    meng.deleteCookie = deleteCookie;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h2 id="运用jquery插件"><a href="#运用jquery插件" class="headerlink" title="运用jquery插件"></a>运用jquery插件</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../base/jquery-3.1.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../base/jquery.cookie.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../base/jquery.base64.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"用户名"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"check"</span> <span class="attr">id</span>=<span class="string">"isChecked"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"meng.setCookie()"</span> <span class="attr">name</span>=<span class="string">"save"</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">value</span>=<span class="string">"保存"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.meng = <span class="built_in">window</span>.meng || &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> username = $(<span class="string">"#username"</span>).val();</span><br><span class="line">        <span class="keyword">var</span> pwd = $(<span class="string">"#password"</span>).val();</span><br><span class="line">        <span class="keyword">var</span> isChecked = $(<span class="string">"[id='isChecked']:checked"</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(isChecked);</span><br><span class="line">        <span class="keyword">if</span> (username &amp;&amp; pwd) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isChecked &amp;&amp; isChecked.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                $.cookie(<span class="string">"username"</span>, username);</span><br><span class="line">                $.cookie(<span class="string">"password"</span>, $.base64.encode(pwd));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            alert(<span class="string">"用户名或密码不能为空"</span>);</span><br><span class="line">            $(<span class="string">"[id='isChecked']"</span>).prop(&#123;<span class="string">"checked"</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> username = $.cookie(<span class="string">"username"</span>);</span><br><span class="line">        <span class="keyword">var</span> pwd = $.cookie(<span class="string">"password"</span>);</span><br><span class="line">        <span class="keyword">if</span> (username &amp;&amp; pwd) &#123;</span><br><span class="line">            $(<span class="string">"[id='isChecked']"</span>).prop(&#123;<span class="string">"checked"</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">"[id='isChecked']"</span>).is(<span class="string">":checked"</span>)) &#123;</span><br><span class="line">            $(<span class="string">"#username"</span>).val(username);</span><br><span class="line">            $(<span class="string">"#password"</span>).val($.base64.decode(pwd));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    meng.setCookie = setCookie;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        getCookie();</span><br><span class="line">    &#125;</span><br><span class="line">    init();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><h3 id="用jquery改变checkbox的选中状态"><a href="#用jquery改变checkbox的选中状态" class="headerlink" title="用jquery改变checkbox的选中状态"></a>用jquery改变checkbox的选中状态</h3><p>网上好多都是使用，什么attr,removeAttr了什么的，你们确定这些真的有用？？？，反正我亲测没用（当然不排除浏览器的原因）。<br>解决此问题最好的方法是用 <code>prop</code></p><h3 id="js-jquery判断checkbox是否被选中的区别"><a href="#js-jquery判断checkbox是否被选中的区别" class="headerlink" title="js jquery判断checkbox是否被选中的区别"></a>js jquery判断checkbox是否被选中的区别</h3><ul><li><code>js</code>:document.getElementById(“idName”).checked</li><li><code>jquery</code>:$(“#idName”).is(“:checked”)</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>任性不用for，if</title>
      <link href="/2017/04/12/%E4%BB%BB%E6%80%A7%E4%B8%8D%E7%94%A8for/"/>
      <url>/2017/04/12/%E4%BB%BB%E6%80%A7%E4%B8%8D%E7%94%A8for/</url>
      <content type="html"><![CDATA[<p>估计现在强迫症越来越严重了，写代码经常想少写几行，慢慢的感觉for和if语句实在是累赘啊，一写就三行。。<br>想偷偷懒，不写for和if了<br>这里简单总结下几种可以不用for的情况</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="示例一"><a href="#示例一" class="headerlink" title="示例一"></a>示例一</h2><p>原版代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assign</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value) &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(assign(<span class="number">1</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(assign());  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>改版代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assign</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value = value || <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(assign(<span class="number">1</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(assign());  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p><code>多说一点，jQuery中$.extend()也是同样道理</code></p><h2 id="示例二"><a href="#示例二" class="headerlink" title="示例二"></a>示例二</h2><p>原版代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addOne</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value &gt; <span class="number">5</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (value + <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(addOne(<span class="number">1</span>));     <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(addOne(<span class="number">10</span>));    <span class="comment">//11</span></span><br></pre></td></tr></table></figure><p>改版代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addOne</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp;</span><br><span class="line">    <span class="keyword">return</span> temp = (value &gt; <span class="number">5</span> &amp;&amp; value + <span class="number">1</span>) || value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(addOne(<span class="number">1</span>));     <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(addOne(<span class="number">10</span>));    <span class="comment">//11</span></span><br></pre></td></tr></table></figure><p><code>提下缺点，上述两个示例的缺点：降低了代码的可读性。只能实现一句表达式。</code></p><h2 id="示例三"><a href="#示例三" class="headerlink" title="示例三"></a>示例三</h2><p>原版代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cats=[</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'a'</span>,<span class="attr">month</span>:<span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'b'</span>,<span class="attr">month</span>:<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'c'</span>,<span class="attr">month</span>:<span class="number">12</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'d'</span>,<span class="attr">month</span>:<span class="number">10</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'e'</span>,<span class="attr">month</span>:<span class="number">5</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lookForCats=[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cats.length; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> cat = cats[i];</span><br><span class="line">    <span class="keyword">if</span>(cat.month&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        lookForCats.push(cat.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(lookForCats); <span class="comment">// ["c", "d"]</span></span><br></pre></td></tr></table></figure><p>改版代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cats=[</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'a'</span>,<span class="attr">month</span>:<span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'b'</span>,<span class="attr">month</span>:<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'c'</span>,<span class="attr">month</span>:<span class="number">12</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'d'</span>,<span class="attr">month</span>:<span class="number">10</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'e'</span>,<span class="attr">month</span>:<span class="number">5</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lookForStandard</span>(<span class="params">cat</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cat.month&gt;<span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">cat</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cat.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">lookForCats=cats.filter(lookForStandard).map(getName);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(lookForCats); <span class="comment">// ["c", "d"]</span></span><br></pre></td></tr></table></figure><h2 id="知识点总结"><a href="#知识点总结" class="headerlink" title="知识点总结"></a>知识点总结</h2><p><code>filter</code></p><ul><li><strong>filter()</strong> 方法使用指定的函数测试所有元素，并创建一个包含所有通过测试的元素的新数组；</li><li>参数为一个方法，该方法有3个参数，value(值),index(索引),array(被遍历的数组)</li><li>具体写法filter(function(value,index,array){})  也可以 array.filter(function(value,index){})；</li><li>会生成新的数组。</li></ul><p><code>map</code></p><ul><li><strong>map()</strong> 方法返回一个由原数组中的每个元素调用一个指定方法后的返回值组成的新数组；</li><li>会生成新的数组。</li></ul><p><code>两者区别:</code></p><ul><li><strong>map()</strong>:返回一个新的Array，每个元素为调用func的结果。修改数组每一项</li><li><strong>filter()</strong>:返回一个符合func条件的元素数组。找出数组中符合标准的每一项</li></ul><h2 id="实际应用"><a href="#实际应用" class="headerlink" title="实际应用"></a>实际应用</h2><blockquote><p>实现功能：点击按钮涮选出用户所选爱好的值。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../base/jquery-3.1.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    性别：</span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"boy"</span> <span class="attr">name</span>=<span class="string">"sex"</span>&gt;</span>男</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"girl"</span> <span class="attr">name</span>=<span class="string">"sex"</span>&gt;</span>女</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    爱好：</span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">name</span>=<span class="string">"hobby"</span>&gt;</span>足球</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"2"</span> <span class="attr">name</span>=<span class="string">"hobby"</span>&gt;</span>篮球</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"3"</span> <span class="attr">name</span>=<span class="string">"hobby"</span>&gt;</span>乒乓球</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"4"</span> <span class="attr">name</span>=<span class="string">"hobby"</span>&gt;</span>橄榄球</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"5"</span> <span class="attr">name</span>=<span class="string">"hobby"</span>&gt;</span>游泳</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"6"</span> <span class="attr">name</span>=<span class="string">"hobby"</span>&gt;</span>游戏</span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $btn = $(<span class="string">'#btn'</span>),</span><br><span class="line">        $checkBox = $(<span class="string">'input[name="hobby"]'</span>);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isChecked</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> target.checked;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getValue</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> target.value;</span><br><span class="line">    &#125;</span><br><span class="line">    $btn.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> checkedItems = $checkBox.toArray().filter(isChecked).map(getValue);</span><br><span class="line">        <span class="built_in">console</span>.log(checkedItems);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>li布局问题</title>
      <link href="/2017/04/12/li%E5%B8%83%E5%B1%80%E9%97%AE%E9%A2%98/"/>
      <url>/2017/04/12/li%E5%B8%83%E5%B1%80%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>一个关于li布局问题的小技巧</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p>问题示意，好多网站一般都有这种布局，如 (问题原因，除了第一个li,其余都有margin-left)</p><p><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20170303105639876-937276541%20.png" width="30%" alt=""></p><h2 id="一排情况"><a href="#一排情况" class="headerlink" title="一排情况"></a>一排情况</h2><h3 id="解决方式一"><a href="#解决方式一" class="headerlink" title="解决方式一"></a>解决方式一</h3><p></p><p data-height="250" data-theme-id="7928" data-slug-hash="VbwwOb" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/VbwwOb" target="_blank" rel="noopener">VbwwOb</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><blockquote><p>关键代码:</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:first-child)</span>&#123;</span><br><span class="line">       <span class="attribute">margin-left</span>: <span class="number">50px</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><hr><h3 id="解决方式二"><a href="#解决方式二" class="headerlink" title="解决方式二"></a>解决方式二</h3><p></p><p data-height="250" data-theme-id="7928" data-slug-hash="Pmowoa" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/Pmowoa" target="_blank" rel="noopener">Pmowoa</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><blockquote><p>关键代码:</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span> + <span class="selector-tag">li</span> &#123;</span><br><span class="line">       <span class="attribute">margin-left</span>: <span class="number">50px</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><hr><h2 id="多排情况"><a href="#多排情况" class="headerlink" title="多排情况"></a>多排情况</h2><h3 id="解决方式"><a href="#解决方式" class="headerlink" title="解决方式"></a>解决方式</h3><p></p><p data-height="320" data-theme-id="7928" data-slug-hash="Pmowzd" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/Pmowzd" target="_blank" rel="noopener">Pmowzd</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><blockquote><p>关键代码:</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:nth-child(4n))</span>&#123;</span><br><span class="line"><span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> 技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>纯CSS实现点击</title>
      <link href="/2017/04/11/%E7%BA%AFCSS%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB/"/>
      <url>/2017/04/11/%E7%BA%AFCSS%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB/</url>
      <content type="html"><![CDATA[<p>关于codeopen的试验</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p></p><p data-height="257" data-theme-id="7928" data-slug-hash="ZKzLRg" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/ZKzLRg" target="_blank" rel="noopener">ZKzLRg</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><p></p><p data-height="257" data-theme-id="7928" data-slug-hash="mmbWwz" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/mmbWwz" target="_blank" rel="noopener">mmbWwz</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><p><code>注意点</code>：input要写在label前面，因为 + 选择器指的是兄弟元素中的弟弟元素，不包括哥哥元素。</p><p>写这个的初衷就在于那个亘古不变的道理，能用CSS解决的就不用js</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>js中的apply和call</title>
      <link href="/2017/04/11/js%E4%B8%AD%E7%9A%84apply%E5%92%8Ccall/"/>
      <url>/2017/04/11/js%E4%B8%AD%E7%9A%84apply%E5%92%8Ccall/</url>
      <content type="html"><![CDATA[<style type="text/css">    p.xu-sub{        width: 100%;        background-color: rgba(51,51,51,.85);        color: rgb(204,204,204);        line-height: 44px;        text-indent: 2em;        text-rendering: optimizeLegibility;    }</style><p>js apply和call 浅析</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p>借用网上的一个例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fun.call(<span class="keyword">this</span>,arg1,arg2,arg3)</span><br><span class="line"></span><br><span class="line">fun.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.fun(arg1,arg2,arg3)</span><br></pre></td></tr></table></figure></p><blockquote><p>代码示例</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"person.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"student.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"boyStudent.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p class="xu-sub">person.js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.meng = <span class="built_in">window</span>.meng || &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._name = name;</span><br><span class="line">        <span class="keyword">this</span>._age = age;</span><br><span class="line">        <span class="keyword">this</span>._gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line">    Person.prototype.showInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"个人"</span>+<span class="string">"\n姓名："</span> + <span class="keyword">this</span>._name + <span class="string">"\n年龄："</span></span><br><span class="line">            + <span class="keyword">this</span>._age + <span class="string">"\n性别："</span> + <span class="keyword">this</span>._gender);</span><br><span class="line">    &#125;;</span><br><span class="line">    meng.Person = Person;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><br>    </p><p class="xu-sub">student.js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.meng = <span class="built_in">window</span>.meng || &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,gender,num</span>) </span>&#123;</span><br><span class="line">        meng.Person.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">        <span class="keyword">this</span>._num=num;</span><br><span class="line">    &#125;</span><br><span class="line">    Student.prototype=<span class="keyword">new</span> meng.Person();</span><br><span class="line">    Student.prototype.showInfo=<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"学生"</span>+<span class="string">"\n姓名："</span> + <span class="keyword">this</span>._name + <span class="string">"\n年龄："</span> + </span><br><span class="line">            <span class="keyword">this</span>._age + <span class="string">"\n性别："</span> + <span class="keyword">this</span>._gender+<span class="string">"\n学号："</span>+<span class="keyword">this</span>._num);</span><br><span class="line">    &#125;;</span><br><span class="line">    meng.Student=Student;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><br>    </p><p class="xu-sub">boyStudent.js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.meng = <span class="built_in">window</span>.meng || &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">BoyStudent</span>(<span class="params">name,age,num</span>) </span>&#123;</span><br><span class="line">        meng.Student.call(<span class="keyword">this</span>,name,age,<span class="string">"female"</span>,num);</span><br><span class="line">    &#125;</span><br><span class="line">    BoyStudent.prototype = <span class="keyword">new</span> meng.Student();</span><br><span class="line">    BoyStudent.prototype.showInfo=<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"男学生"</span>+<span class="string">"\n姓名："</span> + <span class="keyword">this</span>._name + <span class="string">"\n年龄："</span> +</span><br><span class="line">            <span class="keyword">this</span>._age + <span class="string">"\n性别："</span> + <span class="keyword">this</span>._gender+<span class="string">"\n学号："</span>+<span class="keyword">this</span>._num);</span><br><span class="line">    &#125;;</span><br><span class="line">    meng.BoyStudent=BoyStudent;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><br>    </p><p class="xu-sub">main.js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.meng = <span class="built_in">window</span>.meng || &#123;&#125;;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    per1.showInfo();</span><br><span class="line">    stu1.showInfo();</span><br><span class="line">    <span class="keyword">var</span> boyStu1=<span class="keyword">new</span> meng.BoyStudent(<span class="string">"David"</span>,<span class="number">23</span>,<span class="string">"002"</span>);</span><br><span class="line">    boyStu1.showInfo();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><blockquote><p>输出结果:<br><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20160822113747261-1384052262.png" alt=""></p></blockquote><p><br></p><blockquote><p>说明：</p></blockquote><p>（这里说明一下，网上有些人说JS没有继承，但是这里我也写了继承。这也就是我对事物的理解问题，我本来专业学过JAVA，所以对继承了解深刻，而上面JS代码的写法和JAVA里的继承是一个概念，我这里就暂且叫他继承了。主要是理解概念，我感觉没必要死扣这个问题，就如有些人还说JS没有JAVA中的类，但是JS中的函数和JAVA的类也是一个差不多的概念，拿类的概念去理解函数的概念，也无可厚非）</p><p>开始说代码，先看下各个函数的参数，（这里帖这几个代码的意义也在于此）。</p><p>Person参数有三个name、age、gender这是每个人又具备的属性。</p><p>Student参数有有四个，多了个学号num的属性，这是学生所特有的。</p><p>BoyStudent参数有三个，同学生类中的三个，只是gender参数默认是female。</p><p>大体的结构是BoyStudent继承Student  Student继承Person。</p><p>BoyStudent继承Student的时候，是三个参数继承四个参数的，顾我用的是call()方法，因为他可以逐个给参数赋值，可以包含不一样的参数。</p><p>而Student继承Person的时候，是四个参数继承三个参数的，顾我用的是apply()方法，因为它一下把所有参数搬过来了，简单省事。</p><p>当然，call()方法完全可以代替apply()方法，但是能用apply（）方法的时候，何必用call（）方法逐个去赋值呢。╮(╯▽╰)╭</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> api </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>不同随机数</title>
      <link href="/2017/04/11/%E4%B8%8D%E5%90%8C%E9%9A%8F%E6%9C%BA%E6%95%B0/"/>
      <url>/2017/04/11/%E4%B8%8D%E5%90%8C%E9%9A%8F%E6%9C%BA%E6%95%B0/</url>
      <content type="html"><![CDATA[<p>实现产生不同的随机数</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p><code>前言</code> 前几天写到一个程序，用到要使用不同随机数的方法，结果愣是整了半天没整出来，说来也是惭愧啊（亏我还是软件工程的学生，其实这个问题以前遇到过，只是我逃避了，哎，自己刨的坑终究会把自己陷进去，╮(╯▽╰)╭）好了，废话不多说“上菜”了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> N = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">var</span> ranArr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        arr[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length);</span><br><span class="line">        <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">        ranArr.push(arr[index]);</span><br><span class="line">        arr.splice(index, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (arr.length == <span class="number">0</span>) flag = <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span> (flag);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><blockquote><p>代码解释： 代码的主要思路是，先生成个0到N的数组，根据此数组的长度产生随机数的最大值index，循环以下动作，设置标志位flag,用于判断arr数组的长度，每次循环把原数组index位置的数据加入到ranArr数组中去，arr数组切除这个数，直到arr数组长度为0.</p></blockquote><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>时钟</title>
      <link href="/2017/04/11/%E6%97%B6%E9%92%9F/"/>
      <url>/2017/04/11/%E6%97%B6%E9%92%9F/</url>
      <content type="html"><![CDATA[<p>一个时钟示例</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p></p><p data-height="557" data-theme-id="7928" data-slug-hash="aWoBLQ" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/aWoBLQ" target="_blank" rel="noopener">aWoBLQ</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>等待条</title>
      <link href="/2017/04/11/%E7%AD%89%E5%BE%85%E6%9D%A1/"/>
      <url>/2017/04/11/%E7%AD%89%E5%BE%85%E6%9D%A1/</url>
      <content type="html"><![CDATA[<p>一个小等待条示例</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p></p><p data-height="557" data-theme-id="7928" data-slug-hash="bWbBww" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/bWbBww" target="_blank" rel="noopener">bWbBww</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>深度克隆</title>
      <link href="/2017/04/11/%E6%B7%B1%E5%BA%A6%E5%85%8B%E9%9A%86/"/>
      <url>/2017/04/11/%E6%B7%B1%E5%BA%A6%E5%85%8B%E9%9A%86/</url>
      <content type="html"><![CDATA[<p>深度克隆</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p><code>克隆</code>：即把一个对象的所有属性和方法一模一样地复制到一个对象中。<br>而深度克隆多做了一件事，把这两个对象放在不同内存的地方。即修改其中一个不影响另外一个。</p><p>浅克隆，不必多说，他只做了克隆的事情，单纯使用”=”去实现。</p><p><code>深克隆</code>：如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">oldObj,newObj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> newObj = newObj || &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> oldObj) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> oldObj[i] == <span class="string">"object"</span>) &#123;</span><br><span class="line">                newObj[i]=(oldObj[i].constructor==<span class="built_in">Array</span>)?[]:&#123;&#125;;</span><br><span class="line">                <span class="built_in">arguments</span>.callee(oldObj[i],newObj[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                newObj[i]=oldObj[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newObj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> user=&#123;</span><br><span class="line">        name:<span class="string">"晨落梦公子"</span>,</span><br><span class="line">        tag:[<span class="string">"html"</span>,<span class="string">"css"</span>,<span class="string">"js"</span>]</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> meng=deepClone(user);</span><br><span class="line">    <span class="built_in">console</span>.log(meng.tag);</span><br><span class="line">    meng.tag.push(<span class="string">"java"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(meng.tag);</span><br><span class="line">    <span class="keyword">var</span> xu=deepClone(user);</span><br><span class="line">    <span class="built_in">console</span>.log(xu.tag);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>这段话说的很好<br><img src="http://oo6bpvt6y.bkt.clouddn.com/816523-20161211205338351-1418749908.png" alt=""></p><blockquote><p>补充一个知识点，值传递和引用传递</p></blockquote><p><code>值传递</code>：改变子类不影响父类，即开辟了新的内存</p><p><code>引用传递</code>：改变子类影响父类，即共用同一块内存</p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>数组重排</title>
      <link href="/2017/04/11/%E6%95%B0%E7%BB%84%E9%87%8D%E6%8E%92/"/>
      <url>/2017/04/11/%E6%95%B0%E7%BB%84%E9%87%8D%E6%8E%92/</url>
      <content type="html"><![CDATA[<p>数组重排</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resetArray</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="number">0.5</span>-<span class="built_in">Math</span>.random();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">resetArray(arr);</span><br></pre></td></tr></table></figure><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>函数式编程</title>
      <link href="/2017/04/11/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
      <url>/2017/04/11/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/</url>
      <content type="html"><![CDATA[<p>函数式编程</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h1 id="柯里化"><a href="#柯里化" class="headerlink" title="柯里化"></a>柯里化</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> x + y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a = add(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(a(<span class="number">2</span>)); <span class="comment">//3</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><ul><li>优点：实现了函数”暂存“，可以把一个变量一直放在函数里面。</li></ul><p>举个例子，那上面代码来说，我要实现1+1,1+2,1+3，只需要<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> addOne=add(<span class="number">1</span>);</span><br><span class="line">addOne(<span class="number">1</span>); <span class="comment">//1+1</span></span><br><span class="line">addOne(<span class="number">2</span>); <span class="comment">//1+2</span></span><br><span class="line">addOne(<span class="number">3</span>); <span class="comment">//1+3</span></span><br></pre></td></tr></table></figure></p><h1 id="组合化"><a href="#组合化" class="headerlink" title="组合化"></a>组合化</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> compose=<span class="function"><span class="keyword">function</span> (<span class="params">f,g</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> f(g(x));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> getHead=<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;<span class="keyword">return</span> x[<span class="number">0</span>]&#125;;</span><br><span class="line">    <span class="keyword">var</span> toUpperCase=<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;<span class="keyword">return</span> x.toUpperCase();&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> controlString=compose(getHead,toUpperCase);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> str=<span class="string">'meng'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(controlString(str));</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><ul><li>优点：实现不同功能的叠加。</li></ul><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 函数式编程 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hexo命令</title>
      <link href="/2017/04/11/hexo%E5%91%BD%E4%BB%A4/"/>
      <url>/2017/04/11/hexo%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<style type="text/css">    p.xu-sub{        width: 100%;        background-color: rgba(51,51,51,.85);        color: rgb(204,204,204);        line-height: 44px;        text-indent: 2em;        text-rendering: optimizeLegibility;    }</style><p>一些hexo常用的命令</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><h2 id="hexo-n"><a href="#hexo-n" class="headerlink" title="hexo n"></a>hexo n</h2><p class="xu-sub">1、 hexo new &nbsp;”pageName”</p><ul><li>用于新建一篇文章，会直接呈现到主页面</li><li>文件在 <code>主文件/source/_posts</code> 下</li></ul><h2 id="hexo-n-page"><a href="#hexo-n-page" class="headerlink" title="hexo n page"></a>hexo n page</h2><p class="xu-sub">2、 hexo new page &nbsp; “pageName”</p><ul><li>用于新建一个页面，如“关于我”</li><li>执行命令后会在 <code>主文件/source/</code> 下新建这个页面</li></ul><h2 id="hexo-g"><a href="#hexo-g" class="headerlink" title="hexo g"></a>hexo g</h2><p></p><p class="xu-sub">3、 hexo generate</p><p></p><ul><li>生成静态页面至public目录</li><li>部署之前的操作</li></ul><h2 id="hexo-s"><a href="#hexo-s" class="headerlink" title="hexo s"></a>hexo s</h2><p></p><p class="xu-sub">4、 hexo server</p><p></p><ul><li>将页面部署到本地的端口上，默认是 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></li><li>主要用于部署之前的调试，确认后再部署</li><li>调试时，该命令只需要执行一次，以后的改动只需刷新页面即可</li><li>退出调试，ctrl+c</li></ul><h2 id="hexo-d"><a href="#hexo-d" class="headerlink" title="hexo d"></a>hexo d</h2><p></p><p class="xu-sub">5、 hexo deploy</p><p></p><ul><li>部署页面</li></ul><h2 id="hexo-clean"><a href="#hexo-clean" class="headerlink" title="hexo clean"></a>hexo clean</h2><p></p><p class="xu-sub">6、 hexo clean</p><p></p><ul><li>清理缓存，效果类似页面强制刷新</li><li>如果部署后的页面和本地调试不一致，你就需要使用这个命令来清理下再部署</li></ul><h2 id="部署操作"><a href="#部署操作" class="headerlink" title="部署操作"></a>部署操作</h2><p>1、hexo clean<br>2、hexo generate<br>3、hexo deploy<br>简单方法 <code>hexo g -d</code></p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>codeopen试验</title>
      <link href="/2017/04/11/codepen/"/>
      <url>/2017/04/11/codepen/</url>
      <content type="html"><![CDATA[<p>关于codeopen的试验</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><p></p><p data-height="557" data-theme-id="7928" data-slug-hash="BRBygN" data-default-tab="result" class="codepen">See the Pen <a href="http://codepen.io/codingxu/pen/BRBygN" target="_blank" rel="noopener">BRBygN</a> by TimNew (<a href="http://codepen.io/timnew" target="_blank" rel="noopener">@timnew</a>) on <a href="http://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><p></p><script async src="//codepen.io/assets/embed/ei.js"></script><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>markdown基础语法</title>
      <link href="/2017/04/10/markdown/"/>
      <url>/2017/04/10/markdown/</url>
      <content type="html"><![CDATA[<p>关于markdown基础语法的练习</p><p><excerpt in="" index="" |="" 首页摘要=""><br><a id="more"></a></excerpt></p><ul><li>[x] 邂逅</li><li>[ ] 牵手</li><li>[ ] 殿堂</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 遍历整个世界，只为找到你。</span></span><br><span class="line">foreach(<span class="keyword">var</span> you <span class="keyword">in</span> worlds)&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当我发现你是我的真爱时，</span></span><br><span class="line"><span class="keyword">if</span>(you == <span class="string">"myLove"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 那么你就是我要找寻的人，我的妻子</span></span><br><span class="line">myHeart[<span class="string">"myWife"</span>] = you;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:right">邂逅</th><th style="text-align:right">牵手</th><th style="text-align:right">殿堂</th></tr></thead><tbody><tr><td style="text-align:right">青涩</td><td style="text-align:right">懵懂</td><td style="text-align:right">干练</td></tr><tr><td style="text-align:right">花香</td><td style="text-align:right">物语</td><td style="text-align:right">月圆</td></tr><tr><td style="text-align:right">付出</td><td style="text-align:right">思念</td><td style="text-align:right">相拥</td></tr></tbody></table><p>  知道吗？多想你能陪着我一起看<strong>日出</strong>，一起看<strong>日落</strong>，但我知道永远不可能了，你带着我给你的爱离去，留下的只是我悲伤孤独的身影。<br>  <br>  多想忘记你，忘记你曾经在我的生命中出现，忘记有关<code>你</code>的一切，如果你知道我爱你如此深你还会这样选择伤害我吗？<br>  <br>  我知道你虽然离开我了！<br>  <br>  最后你对我都是那么的无情，不要找借口说：“<code>不想离开</code>”，你的无情早在这之前，心好痛，好难受，没有人知道，在这个世界上我如此带着爱你的这种痛过每一天。<br>  <br>  你就这么默默安静的站在那看着我，什么也不说，什么也不做，对我的在不在乎已经不重要了……<br>  <br>  你的一切真的已经快在我的记忆中变的模糊…………<br>  <br>  爱你！<br>  <br>  但已太晚……</p><blockquote><p>我爱你，但与你无关</p></blockquote><p>myLove <a href="https://github.com/mfx55" target="_blank" rel="noopener">love</a></p><!-- 链接合并写法 --><!-- I get 10 times more traffic from [Google][1] than from [Yahoo][2] or [MSN][3].  [1]: http://google.com/        "Google" [2]: http://search.yahoo.com/  "Yahoo Search" [3]: http://search.msn.com/    "MSN Search" --><p><img src="http://oo6bpvt6y.bkt.clouddn.com/u=1246247958,790500158&amp;fm=117&amp;gp=0.jpg" alt="alt text" title="Title"></p><the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
